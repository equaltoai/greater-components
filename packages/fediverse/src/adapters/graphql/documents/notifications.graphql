# Notifications query

#import "./fragments.graphql"

query Notifications($types: [String!], $excludeTypes: [String!], $first: Int = 20, $after: Cursor) {
	notifications(types: $types, excludeTypes: $excludeTypes, first: $first, after: $after) {
		edges {
			cursor
			node {
				id
				type
				read
				createdAt
				account {
					...ActorSummary
				}
				status {
					...ObjectFields
				}
			}
		}
		pageInfo {
			hasNextPage
			hasPreviousPage
			startCursor
			endCursor
		}
		totalCount
	}
}

# Note: Lesser schema Notification type only has basic fields.
# Lesser-specific notification payloads (quote, community note, trust, cost)
# will need to be derived from status.communityNotes, status.quoteContext,
# account.trustScore changes, etc. when those notifications arrive.

mutation DismissNotification($id: ID!) {
	dismissNotification(id: $id)
}

mutation ClearNotifications {
	clearNotifications
}
