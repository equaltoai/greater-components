# Account Queries
# Queries for fetching account/profile data

#import "../fragments/account.graphql"
#import "../fragments/common.graphql"

# Get account by ID
query GetAccount($id: ID!) {
  account(id: $id) {
    ...AccountWithRelationship
  }
}

# Get account by username
query GetAccountByUsername($username: String!) {
  accountByUsername(username: $username) {
    ...AccountWithRelationship
  }
}

# Get current user's account
query GetCurrentAccount {
  currentAccount {
    ...AccountFields
    source {
      privacy
      sensitive
      language
      note
      fields {
        name
        value
      }
      followRequestsCount
    }
  }
}

# Get account relationships
query GetRelationships($accountIds: [ID!]!) {
  relationships(accountIds: $accountIds) {
    ...RelationshipFields
  }
}

# Get account followers
query GetFollowers($accountId: ID!, $limit: Int = 40, $maxId: ID) {
  followers(accountId: $accountId, limit: $limit, maxId: $maxId) {
    edges {
      node {
        ...AccountFields
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get account following
query GetFollowing($accountId: ID!, $limit: Int = 40, $maxId: ID) {
  following(accountId: $accountId, limit: $limit, maxId: $maxId) {
    edges {
      node {
        ...AccountFields
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get follow requests
query GetFollowRequests($limit: Int = 40, $maxId: ID) {
  followRequests(limit: $limit, maxId: $maxId) {
    edges {
      node {
        ...AccountFields
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get account lists
query GetAccountLists($accountId: ID!) {
  accountLists(accountId: $accountId) {
    ...ListFields
  }
}

# Get featured/endorsed accounts
query GetFeaturedAccounts($accountId: ID!) {
  featuredAccounts(accountId: $accountId) {
    ...AccountFields
  }
}

# Get account suggestions
query GetAccountSuggestions($limit: Int = 20) {
  accountSuggestions(limit: $limit) {
    ...AccountFields
  }
}

# Get muted accounts
query GetMutedAccounts($limit: Int = 40, $maxId: ID) {
  mutedAccounts(limit: $limit, maxId: $maxId) {
    edges {
      node {
        ...AccountFields
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get blocked accounts
query GetBlockedAccounts($limit: Int = 40, $maxId: ID) {
  blockedAccounts(limit: $limit, maxId: $maxId) {
    edges {
      node {
        ...AccountFields
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get blocked domains
query GetBlockedDomains($limit: Int = 40, $maxId: ID) {
  blockedDomains(limit: $limit, maxId: $maxId) {
    edges {
      node
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

# Get featured hashtags for an account
query GetFeaturedHashtags($accountId: ID!) {
  featuredHashtags(accountId: $accountId) {
    name
    url
    statusesCount
    lastUsedAt
  }
}

# Get account privacy settings
query GetPrivacySettings {
  privacySettings {
    privacy
    sensitive
    language
    locked
    discoverable
    indexable
    hideCollections
    noindex
    showApplications
  }
}

# Get account migration status
query GetMigration {
  migration {
    id
    targetAccount {
      ...AccountFields
    }
    status
    followersCount
    createdAt
    completedAt
  }
}

