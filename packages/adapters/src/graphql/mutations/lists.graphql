# Lists Mutations
# Mutations for managing lists

#import "../fragments/common.graphql"

# Create a new list
mutation CreateList($title: String!, $repliesPolicy: RepliesPolicy = list) {
  createList(title: $title, repliesPolicy: $repliesPolicy) {
    ...ListFields
  }
}

# Update an existing list
mutation UpdateList($id: ID!, $title: String, $repliesPolicy: RepliesPolicy) {
  updateList(id: $id, title: $title, repliesPolicy: $repliesPolicy) {
    ...ListFields
  }
}

# Delete a list
mutation DeleteList($id: ID!) {
  deleteList(id: $id) {
    id
  }
}

# Add accounts to a list
mutation AddAccountsToList($listId: ID!, $accountIds: [ID!]!) {
  addAccountsToList(listId: $listId, accountIds: $accountIds)
}

# Remove accounts from a list
mutation RemoveAccountsFromList($listId: ID!, $accountIds: [ID!]!) {
  removeAccountsFromList(listId: $listId, accountIds: $accountIds)
}

# Get all lists
query GetLists {
  lists {
    ...ListFields
  }
}

# Get a single list
query GetList($id: ID!) {
  list(id: $id) {
    ...ListFields
  }
}

# Get list accounts
query GetListAccounts($listId: ID!, $limit: Int = 40, $maxId: ID) {
  listAccounts(listId: $listId, limit: $limit, maxId: $maxId) {
    edges {
      node {
        id
        username
        acct
        displayName
        avatar
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}

