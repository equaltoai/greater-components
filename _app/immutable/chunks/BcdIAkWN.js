import{g as _,c as P,a,t as W,s as p,h as Ce,b as R}from"./BTgIKdxS.js";import{p as Ie,f as m,a as Ue,c as q,s as l,R as D,t as T,r as E,g as t,u as L,d as le,h as Te}from"./D-WlePPY.js";import{p as O,i as y}from"./COMTHQNu.js";import{s as Le,c as Oe,d as ce,e as Re}from"./EAUZg0eb.js";import{c as v}from"./D4O329PC.js";import{f as Q,I as de,S as me}from"./CyXc35a2.js";import{L as Be}from"./Cjl-Y1eL.js";import{T as He,C as Me,H as je,S as ve,R as Ae}from"./BPSDg3Up.js";import{T as F}from"./xP_8Rc2R.js";_(["keydown","click"]);_(["keydown","click"]);_(["click"]);_(["click"]);_(["click","keydown"]);_(["click","keydown"]);_(["click","change","keydown"]);_(["click"]);var Ne=R('<button type="button"><!> <span class="auth-user-button__info svelte-s9ygn9"><!> <!></span> <!></button>'),We=R('<div class="auth-user-button__menu-header svelte-s9ygn9"><!> <div class="auth-user-button__menu-info svelte-s9ygn9"><!> <!></div></div>'),pe=R("<!> <!>",1),qe=R("<!> <!> <!> <!>",1),De=R("<!> <!>",1);function Ze(_e,e){Ie(e,!0);let V=O(e,"variant",3,"dropdown"),X=O(e,"loading",3,!1),Y=O(e,"menuItems",19,()=>[]),ge=O(e,"class",3,""),Z=O(e,"size",3,"md"),B=Te(!1);async function $(){if(!(t(B)||X())){le(B,!0);try{await e.onSignOut()}finally{le(B,!1)}}}function fe(c){c.disabled||c.onClick?.()}const ee={sm:"sm",md:"md",lg:"lg"},te=L(()=>["auth-user-button",`auth-user-button--${V()}`,ge()].filter(Boolean).join(" ")),z=L(()=>X()||t(B));var ae=P(),he=m(ae);{var be=c=>{var s=Ne(),H=q(s);Q(H,{get src(){return e.user.imageUrl},get name(){return e.user.name},get size(){return ee[Z()]},class:"auth-user-button__avatar"});var C=l(H,2),M=q(C);F(M,{size:"sm",weight:"medium",class:"auth-user-button__name",children:(n,x)=>{D();var h=W();T(()=>p(h,e.user.name)),a(n,h)},$$slots:{default:!0}});var G=l(M,2);{var re=n=>{F(n,{size:"xs",color:"secondary",class:"auth-user-button__email",children:(x,h)=>{D();var S=W();T(()=>p(S,e.user.email)),a(x,S)},$$slots:{default:!0}})};y(G,n=>{e.user.email&&n(re)})}E(C);var j=l(C,2);{var A=n=>{me(n,{size:"sm",color:"current",label:"Signing out"})};y(j,n=>{t(z)&&n(A)})}E(s),T(()=>{Le(s,1,Oe(t(te)),"svelte-s9ygn9"),s.disabled=t(z),ce(s,"aria-label",`Signed in as ${e.user.name}. Click to sign out.`),ce(s,"aria-busy",t(z))}),Ce("click",s,$),a(c,s)},ke=c=>{var s=P(),H=m(s);v(H,()=>Ae,(C,M)=>{M(C,{get class(){return t(te)},children:(G,re)=>{var j=De(),A=m(j);{let x=L(()=>`User menu for ${e.user.name}`);v(A,()=>He,(h,S)=>{S(h,{class:"auth-user-button__trigger",get"aria-label"(){return t(x)},"aria-haspopup":"menu",children:(se,J)=>{Q(se,{get src(){return e.user.imageUrl},get name(){return e.user.name},get size(){return ee[Z()]},class:"auth-user-button__avatar"})},$$slots:{default:!0}})})}var n=l(A,2);v(n,()=>Me,(x,h)=>{h(x,{matchTriggerWidth:!1,class:"auth-user-button__menu",children:(S,se)=>{var J=qe(),ne=m(J);v(ne,()=>je,(d,g)=>{g(d,{children:(f,b)=>{var o=We(),r=q(o);Q(r,{get src(){return e.user.imageUrl},get name(){return e.user.name},size:"md",class:"auth-user-button__menu-avatar"});var k=l(r,2),u=q(k);F(u,{size:"sm",weight:"medium",class:"auth-user-button__menu-name",children:(i,N)=>{D();var U=W();T(()=>p(U,e.user.name)),a(i,U)},$$slots:{default:!0}});var K=l(u,2);{var I=i=>{F(i,{size:"xs",color:"secondary",class:"auth-user-button__menu-email",children:(N,U)=>{D();var w=W();T(()=>p(w,e.user.email)),a(N,w)},$$slots:{default:!0}})};y(K,i=>{e.user.email&&i(I)})}E(k),E(o),a(f,o)},$$slots:{default:!0}})});var oe=l(ne,2);{var ye=d=>{var g=pe(),f=m(g);v(f,()=>ve,(o,r)=>{r(o,{})});var b=l(f,2);Re(b,17,Y,o=>o.id,(o,r)=>{var k=P(),u=m(k);{const K=I=>{var i=P(),N=m(i);{var U=w=>{const xe=L(()=>t(r).icon);var ie=P(),Se=m(ie);v(Se,()=>t(xe),(we,Pe)=>{Pe(we,{size:16,"aria-hidden":"true"})}),a(w,ie)};y(N,w=>{t(r).icon&&w(U)})}a(I,i)};v(u,()=>de,(I,i)=>{i(I,{get label(){return t(r).label},get disabled(){return t(r).disabled},get destructive(){return t(r).destructive},get shortcut(){return t(r).shortcut},onclick:()=>fe(t(r)),icon:K,$$slots:{icon:!0}})})}a(o,k)}),a(d,g)};y(oe,d=>{Y().length>0&&d(ye)})}var ue=l(oe,2);v(ue,()=>ve,(d,g)=>{g(d,{})});var ze=l(ue,2);{const d=f=>{var b=P(),o=m(b);{var r=u=>{me(u,{size:"xs",color:"current",label:"Signing out"})},k=u=>{Be(u,{size:16,"aria-hidden":"true"})};y(o,u=>{t(z)?u(r):u(k,!1)})}a(f,b)};let g=L(()=>t(z)?"Signing out...":"Sign out");v(ze,()=>de,(f,b)=>{b(f,{get label(){return t(g)},destructive:!0,get disabled(){return t(z)},onclick:$,icon:d,$$slots:{icon:!0}})})}a(S,J)},$$slots:{default:!0}})}),a(G,j)},$$slots:{default:!0}})}),a(c,s)};y(he,c=>{V()==="inline"?c(be):c(ke,!1)})}a(_e,ae),Ue()}_(["click"]);export{Ze as U};
