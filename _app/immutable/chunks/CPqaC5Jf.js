import{c as rt,a as v,s as h,b as g}from"./BTgIKdxS.js";import{p as at,b as et,d as b,f as N,g as i,s as o,t as L,c as l,r as n,a as st,h as it,u as p}from"./D-WlePPY.js";import{p as d,i as y}from"./COMTHQNu.js";import{e as ot}from"./hd0xpb93.js";import{a as lt,d as k,s as nt}from"./EAUZg0eb.js";var dt=g('<div class="gr-artist-artwork-card-fallback svelte-1xhuwtp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1xhuwtp"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21,15 16,10 5,21"></polyline></svg></div>'),vt=g('<img loading="lazy" decoding="async"/>'),ct=g('<div class="gr-artist-artwork-card-overlay svelte-1xhuwtp"><div class="gr-artist-artwork-card-overlay-content svelte-1xhuwtp"><h3 class="gr-artist-artwork-card-title svelte-1xhuwtp"> </h3> <p class="gr-artist-artwork-card-artist svelte-1xhuwtp"> </p> <div class="gr-artist-artwork-card-stats svelte-1xhuwtp"><span class="svelte-1xhuwtp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1xhuwtp"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> </span> <span class="svelte-1xhuwtp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1xhuwtp"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> </span></div></div></div>'),wt=g('<div class="gr-artist-artwork-card-ai-badge svelte-1xhuwtp" aria-label="AI-assisted artwork"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1xhuwtp"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg></div>'),gt=g("<!> <!> <!>",1);function xt(R,t){at(t,!0);let S=d(t,"size",3,"auto"),O=d(t,"variant",3,"grid"),j=d(t,"showOverlay",3,!0),f=d(t,"aspectRatio",3,"preserve"),F=d(t,"class",3,""),K=d(t,"tabindex",3,0),c=d(t,"tagName",3,"button"),s=it("loading");const T=p(()=>i(s)==="loaded"?t.artwork.images.preview:t.artwork.images.thumbnail);et(()=>{b(s,"loading");const a=new Image;a.src=t.artwork.images.preview,a.onload=()=>{b(s,"loaded")},a.onerror=()=>{b(s,"error")}});function U(){t.onclick?.(t.artwork)}function C(a){return a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString()}const q=p(()=>()=>{if(f()==="1:1")return"gr-artist-artwork-card--ratio-1-1";if(f()==="4:3")return"gr-artist-artwork-card--ratio-4-3";if(f()==="16:9")return"gr-artist-artwork-card--ratio-16-9";const a=t.artwork.dimensions?t.artwork.dimensions.width/t.artwork.dimensions.height:1;return a>=1.6?"gr-artist-artwork-card--ratio-16-9":a>=1.2?"gr-artist-artwork-card--ratio-4-3":a>=.9?"gr-artist-artwork-card--ratio-1-1":"gr-artist-artwork-card--ratio-3-4"}),D=p(()=>["gr-artist-artwork-card",`gr-artist-artwork-card--${S()}`,`gr-artist-artwork-card--${O()}`,i(q)(),i(s)==="loading"&&"gr-artist-artwork-card--loading",F()].filter(Boolean).join(" "));var z=rt(),E=N(z);ot(E,c,!1,(a,G)=>{lt(a,()=>({type:c()==="button"?"button":void 0,role:c()==="button"?void 0:"button",class:i(D),onclick:U,"aria-label":c()==="button"?`${t.artwork.title} by ${t.artwork.artist.name}`:void 0,tabindex:c()==="button"?K():void 0}),void 0,void 0,void 0,"svelte-1xhuwtp");var B=gt(),M=N(B);{var H=r=>{var e=dt();v(r,e)},J=r=>{var e=vt();let w;L(()=>{k(e,"src",i(T)),k(e,"alt",t.artwork.altText),w=nt(e,1,"gr-artist-artwork-card-image svelte-1xhuwtp",null,w,{blur:i(s)==="loading"})}),v(r,e)};y(M,r=>{i(s)==="error"?r(H):r(J,!1)})}var A=o(M,2);{var P=r=>{var e=ct(),w=l(e),m=l(w),W=l(m,!0);n(m);var x=o(m,2),X=l(x,!0);n(x);var I=o(x,2),u=l(I),Y=o(l(u));n(u);var _=o(u,2),Z=o(l(_));n(_),n(I),n(w),n(e),L(($,tt)=>{h(W,t.artwork.title),h(X,t.artwork.artist.name),k(u,"title",`${t.artwork.stats.likes??""} likes`),h(Y,` ${$??""}`),k(_,"title",`${t.artwork.stats.views??""} views`),h(Z,` ${tt??""}`)},[()=>C(t.artwork.stats.likes),()=>C(t.artwork.stats.views)]),v(r,e)};y(A,r=>{j()&&r(P)})}var Q=o(A,2);{var V=r=>{var e=wt();v(r,e)};y(Q,r=>{t.artwork.aiUsage?.hasAI&&r(V)})}v(G,B)}),v(R,z),st()}export{xt as A};
