import{a as O,b as T,c as z}from"./BTgIKdxS.js";import{p as S,J as w,g as o,b as A,t as P,a as N,u as q,c as C,r as H,d as y,h as _,aj as R,f as G}from"./D-WlePPY.js";import{b as L,s as K,a as B}from"./EAUZg0eb.js";import{p,r as W,i as J}from"./COMTHQNu.js";import{i as F,j as Q,k as V,l as X,m as j}from"./CyXc35a2.js";import{b as U}from"./gQNFtiqf.js";var Y=T("<div><!></div>");function le(x,r){S(r,!0);let f=p(r,"open",15,!1),c=p(r,"placement",3,"bottom-start"),g=p(r,"offset",3,"sm"),b=p(r,"closeOnSelect",3,!0),t=p(r,"loop",3,!0),a=p(r,"class",3,"");const u=q(()=>g()==="lg"?12:g()==="md"?8:4),v=X(),d=`${v}-trigger`,s=new F({menuId:v,triggerId:d,placement:w(()=>c()),offset:w(()=>o(u)),loop:w(()=>t()),closeOnSelect:w(()=>b()),onOpenChange:I=>{f(I),r.onOpenChange?.(I)},initialOpen:w(()=>f())});Q(s),A(()=>{f()!==s.isOpen&&(f()?s.open():s.close()),c()&&(s.placement=c()),s.offset=o(u),t()!==void 0&&(s.loop=t()),b()!==void 0&&(s.closeOnSelect=b()),s.isOpen&&(c()||g()!==void 0)&&s.updatePosition()});let h=null;A(()=>(s.isOpen&&s.triggerElement&&(h=V(s.triggerElement,s.updatePosition),s.updatePosition()),()=>{h?.(),h=null}));var k=Y(),E=C(k);L(E,()=>r.children),H(k),P(()=>K(k,1,`gr-menu-root gr-menu-root--offset-${g()??""} ${a()??""}`,"svelte-14cx89d")),O(x,k),N()}var Z=T("<div><!></div>");function ce(x,r){S(r,!0);const f="data-gr-menu-trigger-managed",c='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';let g=p(r,"class",3,""),b=p(r,"disabled",3,!1),t=W(r,["$$slots","$$events","$$legacy","class","children","disabled","style"]);const a=j();let u=_(null),v=_(null),d=null,s=null;function h(e){b()||(e.preventDefault(),a.toggle())}function k(e){if(!b())switch(e.key){case"ArrowDown":case"Enter":case" ":e.preventDefault(),a.open();break;case"ArrowUp":if(e.preventDefault(),a.open(),a.items.length>0){const l=[...a.items].reverse().findIndex(D=>!D.disabled);l!==-1&&a.setActiveIndex(a.items.length-1-l)}break;case"Escape":a.isOpen&&(e.preventDefault(),a.close());break}}function E(){return o(u)?o(u).querySelector(c)??o(u):null}function I(e){return e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?!0:e instanceof HTMLAnchorElement&&e.hasAttribute("href")}function M(e){!e||e.getAttribute(f)!=="true"||(e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-disabled"),I(e)||(e.removeAttribute("role"),e.removeAttribute("tabindex")),e.removeAttribute("id"),e.removeAttribute(f))}function i(e){e&&(e.setAttribute(f,"true"),e.setAttribute("aria-haspopup","menu"),e.setAttribute("aria-controls",a.menuId),e.setAttribute("aria-expanded",a.isOpen?"true":"false"),e.id=a.triggerId,b()?e.setAttribute("aria-disabled","true"):e.removeAttribute("aria-disabled"),I(e)?(e.removeAttribute("role"),e instanceof HTMLButtonElement&&(e.disabled=b())):(e.setAttribute("role","button"),e.tabIndex=b()?-1:0))}A(()=>{if(!o(u)){y(v,null);return}return y(v,E(),!0),s?.disconnect(),s=new MutationObserver(()=>{y(v,E(),!0)}),s.observe(o(u),{childList:!0,subtree:!0}),()=>{s?.disconnect(),s=null}}),A(()=>{a.setTriggerElement(o(v))}),A(()=>{const e=o(v),l=a.isOpen,D=b();e!==d&&(M(d),d=e),i(d),d&&(d.setAttribute("aria-expanded",l?"true":"false"),D?(d.setAttribute("aria-disabled","true"),I(d)||(d.tabIndex=-1)):(d.removeAttribute("aria-disabled"),I(d)||(d.tabIndex=0)))});var n=Z();B(n,()=>({class:`gr-menu-trigger ${g()??""}`,"aria-disabled":b()||void 0,onclick:h,onkeydown:k,...t}),void 0,void 0,void 0,"svelte-6u069l");var m=C(n);L(m,()=>r.children),H(n),U(n,e=>y(u,e),()=>o(u)),O(x,n),N()}var $=T("<div><!></div>");function de(x,r){S(r,!0);let f=p(r,"class",3,""),c=p(r,"matchTriggerWidth",3,!1),g=p(r,"maxHeight",3,"md"),b=W(r,["$$slots","$$events","$$legacy","class","children","matchTriggerWidth","maxHeight","style"]);const t=j();let a=_(null),u=_(""),v=null;A(()=>{t.setContentElement(o(a))}),A(()=>{if(!t.isOpen)return;function i(m){const e=m.target;o(a)&&!o(a).contains(e)&&t.triggerElement&&!t.triggerElement.contains(e)&&t.close()}const n=setTimeout(()=>{document.addEventListener("click",i)},0);return()=>{clearTimeout(n),document.removeEventListener("click",i)}}),A(()=>{t.isOpen&&o(a)&&R().then(()=>{o(a)?.querySelector('[role="menuitem"]:not([aria-disabled="true"])')?.focus()})}),A(()=>{if(!t.isOpen)return;function i(n){n.key==="Escape"&&(n.preventDefault(),n.stopPropagation(),t.close())}return document.addEventListener("keydown",i,!0),()=>{document.removeEventListener("keydown",i,!0)}});function d(i){const n=t.items.filter(e=>!e.disabled),m=n.findIndex((e,l)=>t.items.indexOf(n[l])===t.activeIndex);if(!(["ArrowDown","ArrowUp","Home","End"].includes(i.key)&&n.length===0))switch(i.key){case"ArrowDown":{i.preventDefault();const e=m<n.length-1?n[m+1]:n[0];if(e){const l=t.items.indexOf(e);t.setActiveIndex(l),h(l)}break}case"ArrowUp":{i.preventDefault();const e=m>0?n[m-1]:n[n.length-1];if(e){const l=t.items.indexOf(e);t.setActiveIndex(l),h(l)}break}case"Home":{i.preventDefault();const e=n[0];if(e){const l=t.items.indexOf(e);t.setActiveIndex(l),h(l)}break}case"End":{i.preventDefault();const e=n[n.length-1];if(e){const l=t.items.indexOf(e);t.setActiveIndex(l),h(l)}break}case"Escape":i.preventDefault(),t.close();break;case"Tab":i.preventDefault(),t.close();break;case"Enter":case" ":{i.preventDefault();const e=t.items[t.activeIndex];e&&!e.disabled&&t.selectItem(e.id);break}default:i.key.length===1&&!i.ctrlKey&&!i.metaKey&&!i.altKey&&s(i.key);break}}function s(i){v&&clearTimeout(v),y(u,o(u)+i.toLowerCase());const n=t.items.findIndex(m=>!m.disabled&&m.label?.toLowerCase().startsWith(o(u)));n!==-1&&(t.setActiveIndex(n),h(n)),v=setTimeout(()=>{y(u,""),v=null},500)}function h(i){R().then(()=>{o(a)?.querySelectorAll('[role="menuitem"]')?.[i]?.focus()})}const k=q(()=>["gr-menu-content",`gr-menu-content--max-height-${g()}`,c()&&"gr-menu-content--match-trigger-width",f()].filter(Boolean).join(" "));var E=z(),I=G(E);{var M=i=>{var n=$();B(n,()=>({class:o(k),role:"menu",id:t.menuId,"aria-labelledby":t.triggerId,tabindex:"-1","data-placement":t.position.placement,onkeydown:d,...b}),void 0,void 0,void 0,"svelte-ron13q");var m=C(n);L(m,()=>r.children),H(n),U(n,e=>y(a,e),()=>o(a)),O(i,n)};J(I,i=>{t.isOpen&&i(M)})}O(x,E),N()}var ee=T('<div role="presentation"><!></div>');function ue(x,r){let f=p(r,"class",3,"");var c=ee(),g=C(c);L(g,()=>r.children),H(c),P(()=>K(c,1,`gr-menu-header ${f()??""}`,"svelte-udymbs")),O(x,c)}var te=T('<div role="separator" aria-orientation="horizontal"></div>');function fe(x,r){let f=p(r,"class",3,"");var c=te();P(()=>K(c,1,`gr-menu-separator ${f()??""}`,"svelte-15bp1io")),O(x,c)}export{de as C,ue as H,le as R,fe as S,ce as T};
