import{a as g,b as y}from"../chunks/BTgIKdxS.js";import{p as v,s as h,a as b,c as T,r as u,g as R}from"../chunks/D-WlePPY.js";import{e as w}from"../chunks/EAUZg0eb.js";import{D as C}from"../chunks/DhBnkOx0.js";import{S as A}from"../chunks/-F1yS8MK.js";import"../chunks/BcdIAkWN.js";import"../chunks/CyXc35a2.js";const k=(()=>({metadata:{slug:"timeline-mock-boosts-replies",title:"Timeline (mocked boosts & replies)",description:"Mocked timeline using sample-timeline.json to verify boost/reply rendering without hitting Lesser.",sections:["Boosted posts","Reply context","Interaction states"]}})),U=Object.freeze(Object.defineProperty({__proto__:null,load:k},Symbol.toStringTag,{value:"Module"})),S={timeline:{edges:[{node:{id:"1",content:"Hello world from mock timeline!",createdAt:"2023-01-01T12:00:00Z",visibility:"PUBLIC",sensitive:!1,repliesCount:0,likesCount:5,sharesCount:2,actor:{id:"https://example.com/user1",username:"mockuser",displayName:"Mock User",avatar:null}}}]}},x={data:S};var I=y(`<div class="demo svelte-1wma4mx"><p class="lead svelte-1wma4mx">This page renders replies and boosts using the checked-in <code>sample-timeline.json</code> (no live network). Use it to verify that reply banners, reply hydration, and boost indicators render
			as expected.</p> <div class="timeline svelte-1wma4mx"></div></div>`);function L(d,l){v(l,!0);const o=x?.data?.timeline?.edges?.map(t=>t.node)??[],s=new Map;function c(t){const e=t?.username??"unknown",i=t?.displayName??e,a=t?.avatar??`https://api.dicebear.com/7.x/identicon/svg?seed=${encodeURIComponent(e)}`;return{id:t?.id??e,username:e,acct:e,displayName:i,avatar:a,url:t?.id??"#",createdAt:new Date().toISOString(),followersCount:0,followingCount:0,statusesCount:0}}function p(t){const e=c(t.actor),i=t.id?.startsWith("http")?t.id:`https://dev.lesser.host/status/${t.id}`;return{id:t.id,uri:t.id,url:i,account:e,content:t.content??"",createdAt:t.createdAt??new Date().toISOString(),visibility:t.visibility?.toLowerCase()??"public",repliesCount:t.repliesCount??0,reblogsCount:t.sharesCount??0,favouritesCount:t.likesCount??0,reblogged:!1,favourited:!1,bookmarked:!1,sensitive:!!t.sensitive,spoilerText:t.spoilerText??void 0,mediaAttachments:[],mentions:[],tags:[],card:void 0,poll:void 0}}function n(t){if(!t||!t.id)return;if(s.has(t.id))return s.get(t.id);const e=p(t);return s.set(t.id,e),e}o.forEach(t=>{n(t),n(t.boostedObject??null),t.inReplyTo?.actor&&n({id:t.inReplyTo.id,content:"",createdAt:t.createdAt,visibility:"PUBLIC",actor:t.inReplyTo.actor,url:t.inReplyTo.id?.startsWith("http")?t.inReplyTo.id:`https://dev.lesser.host/status/${t.inReplyTo.id}`})}),o.forEach(t=>{const e=s.get(t.id);if(e&&(t.boostedObject?.id&&(e.reblog=s.get(t.boostedObject.id)),t.inReplyTo?.id)){e.inReplyToId=t.inReplyTo.id;const i=s.get(t.inReplyTo.id);if(i)e.inReplyToStatus=i,e.inReplyToAccount=i.account,e.inReplyToAccountId=i.account.id;else if(t.inReplyTo.actor){const a=c(t.inReplyTo.actor);e.inReplyToAccount=a,e.inReplyToAccountId=a.id}}});const m=o.map(t=>s.get(t.id)).filter(t=>!!t).sort((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime());C(d,{get data(){return l.data},children:(t,e)=>{var i=I(),a=h(T(i),2);w(a,21,()=>m,r=>r.id,(r,f)=>{A(r,{get status(){return R(f)},showActions:!1,class:"demo-status"})}),u(a),u(i),g(t,i)},$$slots:{default:!0}}),b()}export{L as component,U as universal};
