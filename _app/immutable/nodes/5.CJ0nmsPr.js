import{a as d,b as p,s as K,j as dt,r as xt,c as it,g as $,h as H,f as bt}from"../chunks/BTgIKdxS.js";import{al as Mt,ak as _t,p as tt,J as ut,t as M,a as et,c as s,a1 as pt,r as o,g as l,u as X,h as Q,Q as ft,b as Ct,d as F,s as c,f as ot,R as ht,bm as zt}from"../chunks/D-WlePPY.js";import{p as I,i as S}from"../chunks/COMTHQNu.js";import{b as yt,s as W,c as nt,d as V,a as It,e as Et}from"../chunks/EAUZg0eb.js";import{c as at}from"../chunks/D4O329PC.js";import{D as Tt}from"../chunks/DhBnkOx0.js";import{C as gt}from"../chunks/DeXdVqsM.js";import{e as St}from"../chunks/hd0xpb93.js";import{A as Rt}from"../chunks/CPqaC5Jf.js";import{c as kt}from"../chunks/ByEp1Jo3.js";const At=Symbol("artwork-context"),Bt={density:"comfortable",displayMode:"card",showMetadata:!0,showStats:!0,showActions:!0,showAIDisclosure:!0,progressiveLoading:!0,class:""};function Dt(b,e={},_={}){const R={get artwork(){return b},get config(){return{...Bt,...e}},get handlers(){return _},imageLoadState:"loading",currentResolution:"thumbnail",isLiked:!1,isCollected:!1};return _t(At,R),R}function lt(){const b=Mt(At);if(!b)throw new Error("Artwork context not found. Make sure this component is used within an Artwork.Root component.");return b}function wt(b,e){b.imageLoadState=e}function mt(b,e){b.currentResolution=e}var Ot=p("<article><!></article>");function Vt(b,e){tt(e,!0);let _=I(e,"config",19,()=>({})),R=I(e,"handlers",19,()=>({}));const v=ut(()=>e.artwork),a=ut(()=>_()),D=ut(()=>R());Dt(v,a,D);const u=X(()=>["gr-artist-artwork",_().density==="compact"&&"gr-artist-artwork--compact",_().density==="spacious"&&"gr-artist-artwork--spacious",_().displayMode&&`gr-artist-artwork--${_().displayMode}`,_().class].filter(Boolean).join(" "));var n=Ot(),x=s(n);yt(x,()=>e.children??pt),o(n),M(()=>{W(n,1,nt(l(u)),"svelte-adlyx4"),V(n,"data-artwork-id",e.artwork.id),V(n,"aria-label",`Artwork: ${e.artwork.title} by ${e.artwork.artist.name}`)}),d(b,n),et()}var Nt=p('<div class="gr-artist-artwork-image-fallback svelte-10n3os1" role="img"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-10n3os1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21,15 16,10 5,21"></polyline></svg> <span class="sr-only svelte-10n3os1"> </span></div>'),Ft=p('<img loading="lazy" decoding="async"/>'),Zt=p("<figure><!></figure>");function qt(b,e){tt(e,!0);let _=I(e,"aspectRatio",3,"preserve"),R=I(e,"class",3,"");const v=lt(),{artwork:a,config:D}=v;let u=Q("loading"),n=Q(ft(a.images.thumbnail)),x=Q(!1);const C=X(()=>()=>{if(_()==="1:1")return"gr-artist-artwork-image-container--ratio-1-1";if(_()==="4:3")return"gr-artist-artwork-image-container--ratio-4-3";if(_()==="16:9")return"gr-artist-artwork-image-container--ratio-16-9";const f=a.dimensions?a.dimensions.width/a.dimensions.height:1;return f>=1.6?"gr-artist-artwork-image-container--ratio-16-9":f>=1.2?"gr-artist-artwork-image-container--ratio-4-3":f>=.9?"gr-artist-artwork-image-container--ratio-1-1":"gr-artist-artwork-image-container--ratio-3-4"});Ct(()=>{if(!D.progressiveLoading){F(n,a.images.standard,!0);return}F(n,a.images.thumbnail,!0),mt(v,"thumbnail");const f=new Image;f.src=a.images.preview,f.onload=()=>{F(n,a.images.preview,!0),mt(v,"preview");const m=new Image;m.src=a.images.standard,m.onload=()=>{F(n,a.images.standard,!0),mt(v,"standard"),F(u,"loaded"),wt(v,"loaded"),F(x,!0)},m.onerror=A},f.onerror=A});function A(){F(u,"error"),wt(v,"error"),v.handlers.onImageError?.(new Error("Failed to load image"))}function N(){l(u)!=="error"&&(F(u,"loaded"),wt(v,"loaded"))}const O=X(()=>["gr-artist-artwork-image",l(u)==="loading"&&"gr-artist-artwork-image--loading",l(u)==="loaded"&&"gr-artist-artwork-image--loaded",l(u)==="error"&&"gr-artist-artwork-image--error",!l(x)&&"gr-artist-artwork-image--blur",R()].filter(Boolean).join(" "));var Z=Zt(),Y=s(Z);{var z=f=>{var m=Nt(),y=c(s(m),2),E=s(y,!0);o(y),o(m),M(()=>{V(m,"aria-label",a.altText),K(E,a.altText)}),d(f,m)},T=f=>{var m=Ft();M(()=>{V(m,"src",l(n)),V(m,"alt",a.altText),W(m,1,nt(l(O)),"svelte-10n3os1")}),dt("load",m,N),dt("error",m,A),xt(m),d(f,m)};S(Y,f=>{l(u)==="error"?f(z):f(T,!1)})}o(Z),M(f=>W(Z,1,f,"svelte-10n3os1"),[()=>`gr-artist-artwork-image-container ${l(C)()}`]),d(b,Z),et()}var jt=p('<a class="gr-artist-artwork-title-link svelte-btl7b6"> </a>'),Pt=p("<span> </span>");function Yt(b,e){tt(e,!0);let _=I(e,"maxLines",3,2),R=I(e,"level",3,3),v=I(e,"class",3,"");const a=lt(),{artwork:D}=a,u=X(()=>Math.max(1,Math.min(6,Math.round(_())))),n=X(()=>D.title.length>60),x=X(()=>["gr-artist-artwork-title",l(n)&&"gr-artist-artwork-title--truncated",`gr-artist-artwork-title--max-lines-${l(u)}`,v()].filter(Boolean).join(" ")),C=X(()=>`h${R()}`);var A=it(),N=ot(A);St(N,()=>l(C),!1,(O,Z)=>{It(O,()=>({class:l(x)}),void 0,void 0,void 0,"svelte-btl7b6");var Y=it(),z=ot(Y);{var T=m=>{var y=jt(),E=s(y,!0);o(y),M(()=>{V(y,"href",e.linkTo),V(y,"title",D.title),K(E,D.title)}),d(m,y)},f=m=>{var y=Pt(),E=s(y,!0);o(y),M(()=>{V(y,"title",l(n)?D.title:void 0),K(E,D.title)}),d(m,y)};S(z,m=>{e.linkTo?m(T):m(f,!1)})}d(Z,Y)}),d(b,A),et()}var Ut=p('<img alt="" aria-hidden="true" loading="lazy" class="svelte-e5zdvx"/>'),Xt=p('<span class="gr-artist-artwork-attribution-avatar-fallback svelte-e5zdvx" aria-hidden="true"> </span>'),Kt=p('<div class="gr-artist-artwork-attribution-avatar svelte-e5zdvx"><!></div>'),Wt=bt('<svg class="gr-artist-artwork-attribution-verified svelte-e5zdvx" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-label="Verified artist"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"></path></svg>'),Ht=p('<a class="gr-artist-artwork-attribution-name svelte-e5zdvx"> <!></a>'),Gt=bt('<svg class="gr-artist-artwork-attribution-verified svelte-e5zdvx" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-label="Verified artist"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"></path></svg>'),Jt=p('<span class="gr-artist-artwork-attribution-name svelte-e5zdvx"> <!></span>'),Qt=p('<div><!> <div class="gr-artist-artwork-attribution-info svelte-e5zdvx"><!> <span class="gr-artist-artwork-attribution-username svelte-e5zdvx"> </span></div></div>');function $t(b,e){tt(e,!0);let _=I(e,"showAvatar",3,!0),R=I(e,"linkToProfile",3,!0),v=I(e,"profileBaseUrl",3,"/artist"),a=I(e,"class",3,"");const D=lt(),{artwork:u,handlers:n}=D,{artist:x}=u,C=X(()=>`${v()}/${x.username}`);function A(L){n.onArtistClick&&(L.preventDefault(),n.onArtistClick(x.id))}const N=X(()=>["gr-artist-artwork-attribution",a()].filter(Boolean).join(" "));var O=Qt(),Z=s(O);{var Y=L=>{var B=Kt(),P=s(B);{var U=r=>{var w=Ut();M(()=>V(w,"src",x.avatar)),d(r,w)},g=r=>{var w=Xt(),j=s(w,!0);o(w),M(h=>K(j,h),[()=>x.name.charAt(0).toUpperCase()]),d(r,w)};S(P,r=>{x.avatar?r(U):r(g,!1)})}o(B),d(L,B)};S(Z,L=>{_()&&L(Y)})}var z=c(Z,2),T=s(z);{var f=L=>{var B=Ht(),P=s(B),U=c(P);{var g=r=>{var w=Wt();d(r,w)};S(U,r=>{x.verified&&r(g)})}o(B),M(()=>{V(B,"href",l(C)),K(P,`${x.name??""} `)}),H("click",B,A),d(L,B)},m=L=>{var B=Jt(),P=s(B),U=c(P);{var g=r=>{var w=Gt();d(r,w)};S(U,r=>{x.verified&&r(g)})}o(B),M(()=>K(P,`${x.name??""} `)),d(L,B)};S(T,L=>{R()?L(f):L(m,!1)})}var y=c(T,2),E=s(y);o(y),o(z),o(O),M(()=>{W(O,1,nt(l(N)),"svelte-e5zdvx"),K(E,`@${x.username??""}`)}),d(b,O),et()}$(["click"]);var te=p('<button class="gr-artist-artwork-metadata-toggle svelte-1ov1egf" aria-controls="artwork-metadata-content"><span>Details</span> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polyline points="6 9 12 15 18 9"></polyline></svg></button>'),ee=p('<div class="gr-artist-artwork-metadata-item svelte-1ov1egf"><dt class="svelte-1ov1egf">Medium</dt> <dd class="svelte-1ov1egf"> </dd></div>'),re=p('<div class="gr-artist-artwork-metadata-item svelte-1ov1egf"><dt class="svelte-1ov1egf">Dimensions</dt> <dd class="svelte-1ov1egf"> </dd></div>'),ae=p('<div class="gr-artist-artwork-metadata-item svelte-1ov1egf"><dt class="svelte-1ov1egf">Year</dt> <dd class="svelte-1ov1egf"> </dd></div>'),oe=p('<div class="gr-artist-artwork-metadata-item svelte-1ov1egf"><dt class="svelte-1ov1egf">Materials</dt> <dd class="svelte-1ov1egf"> </dd></div>'),se=p('<div><!> <dl id="artwork-metadata-content"><!> <!> <!> <!></dl></div>');function ie(b,e){tt(e,!0);let _=I(e,"collapsible",3,!1),R=I(e,"defaultExpanded",3,!0),v=I(e,"class",3,"");const a=lt(),{artwork:D,config:u}=a,{metadata:n}=D;let x=Q(ft(R()));function C(){_()&&F(x,!l(x))}const A=X(()=>n.medium||n.dimensions||n.year||n.materials?.length),N=X(()=>["gr-artist-artwork-metadata",_()&&"gr-artist-artwork-metadata--collapsible",l(x)&&"gr-artist-artwork-metadata--expanded",v()].filter(Boolean).join(" "));var O=it(),Z=ot(O);{var Y=z=>{var T=se(),f=s(T);{var m=h=>{var i=te(),t=c(s(i),2);let k;o(i),M(()=>{V(i,"aria-expanded",l(x)),k=W(t,0,"gr-artist-artwork-metadata-toggle-icon svelte-1ov1egf",null,k,{rotated:l(x)})}),H("click",i,C),d(h,i)};S(f,h=>{_()&&h(m)})}var y=c(f,2);let E;var L=s(y);{var B=h=>{var i=ee(),t=c(s(i),2),k=s(t,!0);o(t),o(i),M(()=>K(k,n.medium)),d(h,i)};S(L,h=>{n.medium&&h(B)})}var P=c(L,2);{var U=h=>{var i=re(),t=c(s(i),2),k=s(t,!0);o(t),o(i),M(()=>K(k,n.dimensions)),d(h,i)};S(P,h=>{n.dimensions&&h(U)})}var g=c(P,2);{var r=h=>{var i=ae(),t=c(s(i),2),k=s(t,!0);o(t),o(i),M(()=>K(k,n.year)),d(h,i)};S(g,h=>{n.year&&h(r)})}var w=c(g,2);{var j=h=>{var i=oe(),t=c(s(i),2),k=s(t,!0);o(t),o(i),M(q=>K(k,q),[()=>n.materials.join(", ")]),d(h,i)};S(w,h=>{n.materials?.length&&h(j)})}o(y),o(T),M(()=>{W(T,1,nt(l(N)),"svelte-1ov1egf"),E=W(y,1,"gr-artist-artwork-metadata-list svelte-1ov1egf",null,E,{hidden:_()&&!l(x)})}),d(z,T)};S(Z,z=>{l(A)&&u.showMetadata&&z(Y)})}d(b,O),et()}$(["click"]);var ne=p('<div class="gr-artist-artwork-stats-item svelte-lrlbbf"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-lrlbbf"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> <span> </span></div>'),le=p('<div class="gr-artist-artwork-stats-item svelte-lrlbbf"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-lrlbbf"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> <span> </span></div>'),ce=p('<div class="gr-artist-artwork-stats-item svelte-lrlbbf"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-lrlbbf"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg> <span> </span></div>'),de=p('<div class="gr-artist-artwork-stats-item svelte-lrlbbf"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-lrlbbf"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> <span> </span></div>'),ve=p('<div aria-label="Artwork statistics"><!> <!> <!> <!></div>');function ue(b,e){tt(e,!0);let _=I(e,"showViews",3,!0),R=I(e,"showLikes",3,!0),v=I(e,"showCollections",3,!0),a=I(e,"showComments",3,!0),D=I(e,"class",3,"");const u=lt(),{artwork:n,config:x}=u,{stats:C}=n;function A(z){return z>=1e6?`${(z/1e6).toFixed(1)}M`:z>=1e3?`${(z/1e3).toFixed(1)}K`:z.toString()}const N=X(()=>["gr-artist-artwork-stats",D()].filter(Boolean).join(" "));var O=it(),Z=ot(O);{var Y=z=>{var T=ve(),f=s(T);{var m=g=>{var r=ne(),w=c(s(r),2),j=s(w,!0);o(w),o(r),M(h=>{V(r,"title",`${C.views??""} views`),K(j,h)},[()=>A(C.views)]),d(g,r)};S(f,g=>{_()&&g(m)})}var y=c(f,2);{var E=g=>{var r=le(),w=c(s(r),2),j=s(w,!0);o(w),o(r),M(h=>{V(r,"title",`${C.likes??""} likes`),K(j,h)},[()=>A(C.likes)]),d(g,r)};S(y,g=>{R()&&g(E)})}var L=c(y,2);{var B=g=>{var r=ce(),w=c(s(r),2),j=s(w,!0);o(w),o(r),M(h=>{V(r,"title",`${C.collections??""} collections`),K(j,h)},[()=>A(C.collections)]),d(g,r)};S(L,g=>{v()&&g(B)})}var P=c(L,2);{var U=g=>{var r=de(),w=c(s(r),2),j=s(w,!0);o(w),o(r),M(h=>{V(r,"title",`${C.comments??""} comments`),K(j,h)},[()=>A(C.comments)]),d(g,r)};S(P,g=>{a()&&g(U)})}o(T),M(()=>W(T,1,nt(l(N)),"svelte-lrlbbf")),d(z,T)};S(Z,z=>{x.showStats&&z(Y)})}d(b,O),et()}var ge=p('<button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1tub7d7"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> <span class="sr-only svelte-1tub7d7">Like</span></button>'),we=p('<button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1tub7d7"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path></svg> <span class="sr-only svelte-1tub7d7">Collect</span></button>'),me=p('<button class="gr-artist-artwork-action svelte-1tub7d7" aria-label="Share artwork"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1tub7d7"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg> <span class="sr-only svelte-1tub7d7">Share</span></button>'),fe=p('<button class="gr-artist-artwork-action svelte-1tub7d7" aria-label="Comment on artwork"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1tub7d7"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> <span class="sr-only svelte-1tub7d7">Comment</span></button>'),he=p('<div role="group" aria-label="Artwork actions"><!> <!> <!> <!></div>');function ke(b,e){tt(e,!0);let _=I(e,"showLike",3,!0),R=I(e,"showCollect",3,!0),v=I(e,"showShare",3,!0),a=I(e,"showComment",3,!0),D=I(e,"class",3,"");const u=lt(),{artwork:n,config:x,handlers:C}=u;let A=Q(!1),N=Q(!1);async function O(){if(!(l(A)||!C.onLike)){F(A,!0);try{await C.onLike(n),u.isLiked=!u.isLiked}catch(E){console.error("Failed to like artwork:",E)}finally{F(A,!1)}}}async function Z(){if(!(l(N)||!C.onCollect)){F(N,!0);try{await C.onCollect(n),u.isCollected=!u.isCollected}catch(E){console.error("Failed to collect artwork:",E)}finally{F(N,!1)}}}function Y(){C.onShare?.(n)}function z(){C.onComment?.(n)}const T=X(()=>["gr-artist-artwork-actions",D()].filter(Boolean).join(" "));var f=it(),m=ot(f);{var y=E=>{var L=he(),B=s(L);{var P=i=>{var t=ge();let k;var q=s(t);ht(2),o(t),M(()=>{k=W(t,1,"gr-artist-artwork-action svelte-1tub7d7",null,k,{active:u.isLiked}),t.disabled=l(A)||!C.onLike,V(t,"aria-label",u.isLiked?"Unlike artwork":"Like artwork"),V(t,"aria-pressed",u.isLiked),V(q,"fill",u.isLiked?"currentColor":"none")}),H("click",t,O),d(i,t)};S(B,i=>{_()&&i(P)})}var U=c(B,2);{var g=i=>{var t=we();let k;var q=s(t);ht(2),o(t),M(()=>{k=W(t,1,"gr-artist-artwork-action svelte-1tub7d7",null,k,{active:u.isCollected}),t.disabled=l(N)||!C.onCollect,V(t,"aria-label",u.isCollected?"Remove from collection":"Add to collection"),V(t,"aria-pressed",u.isCollected),V(q,"fill",u.isCollected?"currentColor":"none")}),H("click",t,Z),d(i,t)};S(U,i=>{R()&&i(g)})}var r=c(U,2);{var w=i=>{var t=me();M(()=>t.disabled=!C.onShare),H("click",t,Y),d(i,t)};S(r,i=>{v()&&i(w)})}var j=c(r,2);{var h=i=>{var t=fe();M(()=>t.disabled=!C.onComment),H("click",t,z),d(i,t)};S(j,i=>{a()&&i(h)})}o(L),M(()=>W(L,1,nt(l(T)),"svelte-1tub7d7")),d(E,L)};S(m,E=>{x.showActions&&E(y)})}d(b,f),et()}$(["click"]);$(["click"]);const st={Root:Vt,Image:qt,Title:Yt,Attribution:$t,Metadata:ie,Stats:ue,Actions:ke},xe=Symbol("media-viewer-context"),be={background:"black",showMetadata:!0,showSocial:!1,enableZoom:!0,enablePan:!0,showThumbnails:!0};function ct(b){return typeof b=="function"?b():b}function _e(b,e=0,_={},R={}){const v={get artworks(){return ct(b)},currentIndex:ct(e),get config(){return{...be,...ct(_)}},get handlers(){return ct(R)},zoomLevel:1,panOffset:{x:0,y:0},isMetadataVisible:ct(_).showMetadata??!0,isOpen:!0};return _t(xe,v),v}var pe=p('<img draggable="false"/>'),Ce=p('<div role="dialog" aria-modal="true" aria-label="Image viewer" tabindex="-1"><button class="gr-artist-media-viewer-close svelte-1aohqpq" aria-label="Close viewer"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" class="svelte-1aohqpq"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button> <div class="gr-artist-media-viewer-content svelte-1aohqpq"><!></div> <!></div>');function ye(b,e){tt(e,!0);let _=I(e,"currentIndex",3,0),R=I(e,"config",19,()=>({})),v=I(e,"handlers",19,()=>({}));const a=_e(()=>e.artworks,()=>_(),()=>R(),()=>v()),D=X(()=>e.artworks[a.currentIndex]);let u=Q(!1),n=Q(ft(ut(()=>l(D)?.images.full||""))),x=0,C=0;const A=[.5,.75,1,1.5,2,3,4,5];function N(t){let k=A[0];for(const q of A)Math.abs(q-t)<Math.abs(k-t)&&(k=q);return k}function O(t){const k=N(a.zoomLevel),q=A.indexOf(k);if(q===-1)return 1;const rt=t==="in"?Math.min(A.length-1,q+1):Math.max(0,q-1);return A[rt]??1}const Z=X(()=>Math.round(N(a.zoomLevel)*100));function Y(t){switch(t.key){case"Escape":t.preventDefault(),v().onClose?.();break;case"ArrowLeft":t.preventDefault(),z();break;case"ArrowRight":t.preventDefault(),T();break;case"+":case"=":t.preventDefault(),f();break;case"-":t.preventDefault(),m();break;case"0":t.preventDefault(),y();break}}function z(){a.currentIndex>0&&(a.currentIndex--,y(),v().onNavigate?.(a.currentIndex))}function T(){a.currentIndex<e.artworks.length-1&&(a.currentIndex++,y(),v().onNavigate?.(a.currentIndex))}function f(){a.config.enableZoom&&(a.zoomLevel=O("in"),v().onZoom?.(a.zoomLevel))}function m(){a.config.enableZoom&&(a.zoomLevel=O("out"),v().onZoom?.(a.zoomLevel))}function y(){a.zoomLevel=1,a.panOffset={x:0,y:0},v().onZoom?.(1)}function E(t){t.touches&&t.touches.length>0&&(x=t.touches[0].clientX,C=t.touches[0].clientY)}function L(t){if(t.changedTouches&&t.changedTouches.length>0){const k=t.changedTouches[0].clientX,q=t.changedTouches[0].clientY,rt=k-x,vt=q-C;Math.abs(rt)>Math.abs(vt)&&Math.abs(rt)>50&&(rt>0?z():T())}}function B(t){a.config.enableZoom&&(t.preventDefault(),t.deltaY<0?f():m())}function P(t){t.target===t.currentTarget&&v().onClose?.()}Ct(()=>{const t=e.artworks[a.currentIndex];t&&(F(u,!1),F(n,t.images.full,!0))});const U=X(()=>a.config.background==="black"?"gr-artist-media-viewer--black":a.config.background==="blur"?"gr-artist-media-viewer--blur":"gr-artist-media-viewer--dark");var g=Ce();dt("keydown",zt,Y);var r=s(g),w=c(r,2),j=s(w);{var h=t=>{var k=pe();let q;M(()=>{V(k,"src",l(n)),V(k,"alt",l(D).altText),q=W(k,1,`gr-artist-media-viewer-image gr-artist-media-viewer-image--zoom-${l(Z)}`,"svelte-1aohqpq",q,{loaded:l(u)})}),dt("load",k,()=>F(u,!0)),xt(k),d(t,k)};S(j,t=>{l(D)&&t(h)})}o(w);var i=c(w,2);yt(i,()=>e.children??pt),o(g),M(()=>W(g,1,`gr-artist-media-viewer ${l(U)??""}`,"svelte-1aohqpq")),H("click",g,P),H("keydown",g,t=>{t.key==="Escape"&&v().onClose?.()}),H("touchstart",g,E),H("touchend",g,L),dt("wheel",g,B),H("click",r,()=>v().onClose?.()),d(b,g),et()}$(["click","keydown","touchstart","touchend"]);$(["click"]);$(["click"]);$(["click"]);const Ae={Root:ye};var Le=p("<!> <!> <!> <!> <!> <!>",1),Me=p('<section class="demo-section svelte-1v2rxh1"><header class="svelte-1v2rxh1"><h2 class="svelte-1v2rxh1">Artwork Compound Component</h2> <p class="svelte-1v2rxh1">The main compound component for displaying artwork with full context.</p></header> <div class="demo-container svelte-1v2rxh1"><div class="artwork-demo svelte-1v2rxh1"><!></div></div> <!></section> <section class="demo-section svelte-1v2rxh1"><header class="svelte-1v2rxh1"><h2 class="svelte-1v2rxh1">Artwork Card</h2> <p class="svelte-1v2rxh1">Compact artwork representation for grid views with hover overlay.</p></header> <div class="demo-container svelte-1v2rxh1"><div class="card-grid svelte-1v2rxh1"></div></div> <!></section> <section class="demo-section svelte-1v2rxh1"><header class="svelte-1v2rxh1"><h2 class="svelte-1v2rxh1">Media Viewer</h2> <p class="svelte-1v2rxh1">Full-screen immersive viewing experience with zoom and navigation.</p></header> <div class="demo-container svelte-1v2rxh1"><button class="open-viewer-btn svelte-1v2rxh1">Open Media Viewer</button></div> <!></section> <!>',1);function Ne(b,e){tt(e,!0);const _=kt[0],R=kt.slice(0,3);let v=Q(!1),a=Q(0);const D=`
<Artwork.Root {artwork}>
  <Artwork.Image />
  <Artwork.Title />
  <Artwork.Attribution />
  <Artwork.Metadata />
  <Artwork.Stats />
  <Artwork.Actions />
</Artwork.Root>`,u=`
<ArtworkCard 
  {artwork}
  size="md"
  showOverlay={true}
  aspectRatio="preserve"
  onclick={() => openViewer(artwork)}
/>`,n=`
<MediaViewer 
  artworks={galleryArtworks}
  currentIndex={0}
  background="black"
  showMetadata={true}
  enableZoom={true}
  onClose={() => viewerOpen = false}
/>`;Tt(b,{eyebrow:"Artist Face / Display",title:"Artwork Components",description:"Display components for artwork presentation with progressive loading and accessibility.",children:(x,C)=>{var A=Me(),N=ot(A),O=c(s(N),2),Z=s(O),Y=s(Z);at(Y,()=>st.Root,(r,w)=>{w(r,{get artwork(){return _},children:(j,h)=>{var i=Le(),t=ot(i);at(t,()=>st.Image,(G,J)=>{J(G,{})});var k=c(t,2);at(k,()=>st.Title,(G,J)=>{J(G,{})});var q=c(k,2);at(q,()=>st.Attribution,(G,J)=>{J(G,{profileBaseUrl:"/greater-components/artist"})});var rt=c(q,2);at(rt,()=>st.Metadata,(G,J)=>{J(G,{})});var vt=c(rt,2);at(vt,()=>st.Stats,(G,J)=>{J(G,{})});var Lt=c(vt,2);at(Lt,()=>st.Actions,(G,J)=>{J(G,{})}),d(j,i)},$$slots:{default:!0}})}),o(Z),o(O);var z=c(O,2);gt(z,{code:D,language:"svelte"}),o(N);var T=c(N,2),f=c(s(T),2),m=s(f);Et(m,21,()=>R,r=>r.id,(r,w)=>{Rt(r,{get artwork(){return l(w)},size:"md",showOverlay:!0,aspectRatio:"preserve",onclick:()=>{F(a,R.indexOf(l(w)),!0),F(v,!0)}})}),o(m),o(f);var y=c(f,2);gt(y,{code:u,language:"svelte"}),o(T);var E=c(T,2),L=c(s(E),2),B=s(L);o(L);var P=c(L,2);gt(P,{code:n,language:"svelte"}),o(E);var U=c(E,2);{var g=r=>{var w=it(),j=ot(w);at(j,()=>Ae.Root,(h,i)=>{i(h,{get artworks(){return R},get currentIndex(){return l(a)},config:{background:"black",showMetadata:!0,showSocial:!1,enableZoom:!0,enablePan:!0},handlers:{onClose:()=>F(v,!1),onNavigate:t=>F(a,t,!0)}})}),d(r,w)};S(U,r=>{l(v)&&r(g)})}H("click",B,()=>F(v,!0)),d(x,A)},$$slots:{default:!0}}),et()}$(["click"]);export{Ne as component};
