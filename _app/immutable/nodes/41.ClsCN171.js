import{a as d,s as F,c as G,b as p}from"../chunks/BTgIKdxS.js";import{p as ut,c as r,s as n,r as a,t as H,a as vt,f as M,g as h,u as D,h as Ct,Q as Tt,d as Ht}from"../chunks/D-WlePPY.js";import{p as ft,i as k}from"../chunks/COMTHQNu.js";import{s as gt,b as tt,d as U,e as dt}from"../chunks/EAUZg0eb.js";import{c as V}from"../chunks/D4O329PC.js";import{D as kt}from"../chunks/DhBnkOx0.js";import{C as ct}from"../chunks/DeXdVqsM.js";import{j as yt,k as Mt,C as Nt,A as Pt,l as Bt,R as Dt,S as lt}from"../chunks/-F1yS8MK.js";import"../chunks/BcdIAkWN.js";import{f as Wt}from"../chunks/CyXc35a2.js";import{R as jt}from"../chunks/DfOL-LYk.js";import{d as Ft,e as It}from"../chunks/Cl-J97cL.js";var zt=p('<div class="status-header__reblog-indicator"><!> <span class="status-header__reblog-text"> </span></div>'),Ot=p('<a class="status-header__avatar-link"><!></a>'),Et=p('<span class="status-header__bot-badge" aria-label="Bot account">BOT</span>'),Kt=p('<div class="status-header__account-name"><a class="status-header__display-name"> </a> <!></div> <div class="status-header__username"> </div>',1),Lt=p('<time class="status-header__time"> </time>'),Qt=p('<div><!> <div class="status-header__main"><div class="status-header__avatar"><!></div> <div class="status-header__account"><!></div> <div class="status-header__timestamp"><!></div></div></div>');function Ut(I,c){ut(c,!0);let g=ft(c,"class",3,"");const z=yt(),{status:_,actualStatus:O,account:l,isReblog:x,config:w}=z,S=D(()=>Mt(O.createdAt)),R=D(()=>w.density==="compact"?"sm":"md");var A=Qt(),W=r(A);{var E=s=>{var e=zt(),i=r(e);jt(i,{class:"status-header__reblog-icon",size:16});var m=n(i,2),C=r(m);a(m),a(e),H(()=>F(C,`${(_.account.displayName||_.account.username)??""} boosted`)),d(s,e)};k(W,s=>{x&&s(E)})}var t=n(W,2),o=r(t),u=r(o);{var N=s=>{var e=G(),i=M(e);tt(i,()=>c.avatar),d(s,e)},J=s=>{var e=Ot(),i=r(e);{let m=D(()=>l.displayName||l.username),C=D(()=>`${l.displayName||l.username} avatar`);Wt(i,{get src(){return l.avatar},get name(){return h(m)},get size(){return h(R)},get alt(){return h(C)}})}a(e),H(()=>{U(e,"href",l.url),U(e,"aria-label",`View ${l.displayName||l.username}'s profile`)}),d(s,e)};k(u,s=>{c.avatar?s(N):s(J,!1)})}a(o);var P=n(o,2),X=r(P);{var et=s=>{var e=G(),i=M(e);tt(i,()=>c.accountInfo),d(s,e)},Y=s=>{var e=Kt(),i=M(e),m=r(i),C=r(m,!0);a(m);var Z=n(m,2);{var ot=B=>{var nt=Et();d(B,nt)};k(Z,B=>{l.bot&&B(ot)})}a(i);var K=n(i,2),$=r(K);a(K),H(()=>{U(m,"href",l.url),F(C,l.displayName||l.username),F($,`@${l.acct??""}`)}),d(s,e)};k(X,s=>{c.accountInfo?s(et):s(Y,!1)})}a(P);var j=n(P,2),at=r(j);{var st=s=>{var e=G(),i=M(e);tt(i,()=>c.timestamp),d(s,e)},rt=s=>{var e=Lt(),i=r(e,!0);a(e),H(()=>{U(e,"datetime",h(S).iso),U(e,"title",h(S).absolute),F(i,h(S).relative)}),d(s,e)};k(at,s=>{c.timestamp?s(st):s(rt,!1)})}a(j),a(t),a(A),H(()=>gt(A,1,`status-header ${g()}`)),d(I,A),vt()}var Vt=p("<div><!></div>");function qt(I,c){ut(c,!0);let g=ft(c,"class",3,"");const z=yt(),{actualStatus:_}=z;function O(t){if(!t.href)return null;const o=t.name.startsWith("@")?t.name.slice(1):t.name,u=o.split("@")[0]||o,N=o;return{id:t.href,username:u,acct:N,url:t.href}}function l(t){if(!t.href)return null;const o=t.name.startsWith("#")?t.name.slice(1):t.name;return o?{name:o,url:t.href}:null}const x=D(()=>_.spoilerText??_.contentWarning),w=D(()=>{const t=_.mentions;if(!Array.isArray(t))return[];const o=t[0];return o&&typeof o.username=="string"&&typeof o.url=="string"?t:t.map(O).filter(u=>u!==null)}),S=D(()=>{const t=_.tags;if(Array.isArray(t)){const u=t[0];if(u&&typeof u.name=="string"&&typeof u.url=="string")return t}const o=_.hashtags;return Array.isArray(o)?o.map(l).filter(u=>u!==null):[]});var R=Vt(),A=r(R);{var W=t=>{var o=G(),u=M(o);tt(u,()=>c.content),d(t,o)},E=t=>{Nt(t,{get content(){return _.content},get spoilerText(){return h(x)},get mentions(){return h(w)},get tags(){return h(S)}})};k(A,t=>{c.content?t(W):t(E,!1)})}a(R),H(()=>gt(R,1,`status-content ${g()}`)),d(I,R),vt()}const q={Root:Dt,Header:Ut,Content:qt,Media:Bt,Actions:Pt},Gt=(()=>({metadata:{slug:"status-demo",title:"Status Card Demo",description:"StatusCard + Status compound demos sourced from the fediverse data helpers showing media, polls, threads, and a11y guidance.",sections:["StatusCard showcase","Thread preview","Accessibility & shortcuts"]}})),me=Object.freeze(Object.defineProperty({__proto__:null,load:Gt},Symbol.toStringTag,{value:"Module"}));var Jt=p('<p class="muted svelte-1xd49a3">No actions yet.</p>'),Xt=p("<li> </li>"),Yt=p('<ol class="svelte-1xd49a3"></ol>'),Zt=p("<!> <!> <!> <!>",1),$t=p('<li class="svelte-1xd49a3"><!></li>'),te=p("<li> </li>"),ee=p(`<section class="status-section svelte-1xd49a3"><header><p class="section-eyebrow svelte-1xd49a3">01 · Published StatusCard</p> <h2>Media, content warnings, and polls</h2> <p>All data comes from <code>createStatusShowcase()</code>, mirroring ActivityPub payloads with
				spoiler text, media attachments, and poll metadata. We tap into the published <code>StatusCard</code> component and wire the action callbacks so you can drop in API calls later.</p></header> <div class="status-grid svelte-1xd49a3"><div class="status-card-stack svelte-1xd49a3" role="region" aria-live="polite"><!> <!></div> <div class="status-panel svelte-1xd49a3"><h3>Interaction log</h3> <p class="muted svelte-1xd49a3">Reply/boost/favorite any card to see the optimistic log update.</p> <div class="action-log svelte-1xd49a3" role="log" aria-live="polite"><!></div> <!></div></div></section> <section class="status-section svelte-1xd49a3"><header><p class="section-eyebrow svelte-1xd49a3">02 · Thread preview</p> <h2>Status compound components</h2> <p>The root card reuses the "thread" entry from <code>createStatusShowcase()</code>, while
				replies are provided by <code>createThreadReplies()</code>. We blend <code>StatusCard</code> with <code>Status.*</code> to illustrate how to stitch a thread with consistent action handlers.</p></header> <div class="thread-layout svelte-1xd49a3"><div class="thread-stack svelte-1xd49a3" role="region" aria-labelledby="thread-heading"><h3 id="thread-heading" class="visually-hidden svelte-1xd49a3">Threaded status preview</h3> <!> <ol class="thread-replies svelte-1xd49a3"></ol></div> <!></div></section> <section class="status-section svelte-1xd49a3"><header><p class="section-eyebrow svelte-1xd49a3">03 · Accessibility & guidance</p> <h2>ARIA roles + keyboard cues</h2></header> <div class="a11y-grid svelte-1xd49a3"><ul class="guidance-list svelte-1xd49a3"></ul> <!></div></section>`,1);function _e(I,c){ut(c,!0);const g=Ft(),z=g[0],_=g[1]??g[0],O=g.find(t=>t.id==="status-thread-root")??g[g.length-1],l=It();let x=Ct(Tt([]));const w={onReply:t=>S("Reply",t.account.acct),onBoost:t=>S("Boost",t.account.acct),onFavorite:t=>S("Favorite",t.account.acct)};function S(t,o){Ht(x,[`${t} · ${o}`,...h(x)].slice(0,5),!0)}const R=['Wrap feeds with role="feed" so assistive tech announces streaming updates politely.',"Document keyboard shortcuts (j/k, g then h, .) near the surface or via help dialogs.","Use aria-describedby to point to shortcut hints (“Press boost to announce to followers”).","Keep action handlers idempotent and announce optimistic updates via aria-live regions."],A=`
const statuses = createStatusShowcase();
const [spoilerStatus, pollStatus] = statuses;

const handlers: StatusActionHandlers = {
  onReply: (status) => console.log('Reply', status.id),
  onBoost: (status) => console.log('Boost', status.id),
  onFavorite: (status) => console.log('Favorite', status.id)
};

<StatusCard status={spoilerStatus} actionHandlers={handlers} />
<StatusCard status={pollStatus} actionHandlers={handlers} density="comfortable" />`,W=`
const statuses = createStatusShowcase();
const threadRoot = statuses.find((status) => status.id === 'status-thread-root') ?? statuses.at(-1);
const replies = createThreadReplies();

<StatusCard status={threadRoot} actionHandlers={handlers} />
{#each replies as reply}
  <Status.Root status={reply} handlers={handlers} config={{ density: 'compact' }}>
    <Status.Header />
    <Status.Content />
    {#if reply.mediaAttachments?.length}
      <Status.Media />
    {/if}
    <Status.Actions />
  </Status.Root>
{/each}`,E=`
<section role="feed" aria-live="polite">
  <StatusCard status={threadRoot} actionHandlers={handlers} />
  {#each replies as reply}
    <Status.Root
      status={reply}
      handlers={handlers}
      config={{ density: 'compact' }}
      aria-describedby="thread-shortcuts"
      data-shortcut="j/k"
    >
      <Status.Header />
      <Status.Content />
      <Status.Actions />
    </Status.Root>
  {/each}
</section>`;kt(I,{eyebrow:"Fediverse Surface",get title(){return c.data.metadata.title},get description(){return c.data.metadata.description},children:(t,o)=>{var u=ee(),N=M(u),J=n(r(N),2),P=r(J),X=r(P);lt(X,{get status(){return z},get actionHandlers(){return w}});var et=n(X,2);lt(et,{get status(){return _},get actionHandlers(){return w},density:"comfortable"}),a(P);var Y=n(P,2),j=n(r(Y),4),at=r(j);{var st=v=>{var y=Jt();d(v,y)},rt=v=>{var y=Yt();dt(y,20,()=>h(x),f=>f,(f,L)=>{var Q=Xt(),it=r(Q,!0);a(Q),H(()=>F(it,L)),d(f,Q)}),a(y),d(v,y)};k(at,v=>{h(x).length===0?v(st):v(rt,!1)})}a(j);var s=n(j,2);ct(s,{title:"StatusCard snippet",description:"Data provided by createStatusShowcase()",code:A}),a(Y),a(J),a(N);var e=n(N,2),i=n(r(e),2),m=r(i),C=n(r(m),2);lt(C,{get status(){return O},get actionHandlers(){return w}});var Z=n(C,2);dt(Z,21,()=>l,v=>v.id,(v,y)=>{var f=$t(),L=r(f);V(L,()=>q.Root,(Q,it)=>{it(Q,{get status(){return h(y)},get handlers(){return w},config:{density:"compact"},children:(St,ae)=>{var ht=Zt(),pt=M(ht);V(pt,()=>q.Header,(b,T)=>{T(b,{})});var mt=n(pt,2);V(mt,()=>q.Content,(b,T)=>{T(b,{})});var _t=n(mt,2);{var bt=b=>{var T=G(),wt=M(T);V(wt,()=>q.Media,(Rt,At)=>{At(Rt,{})}),d(b,T)};k(_t,b=>{h(y).mediaAttachments?.length&&b(bt)})}var xt=n(_t,2);V(xt,()=>q.Actions,(b,T)=>{T(b,{})}),d(St,ht)},$$slots:{default:!0}})}),a(f),d(v,f)}),a(Z),a(m);var ot=n(m,2);ct(ot,{title:"Thread snippet",description:"createThreadReplies() + Status compound",code:W}),a(i),a(e);var K=n(e,2),$=n(r(K),2),B=r($);dt(B,20,()=>R,v=>v,(v,y)=>{var f=te(),L=r(f,!0);a(f),H(()=>F(L,y)),d(v,f)}),a(B);var nt=n(B,2);ct(nt,{title:"Accessibility snippet",description:"Role + shortcut annotations",code:E}),a($),a(K),d(t,u)},$$slots:{default:!0}}),vt()}export{_e as component,me as universal};
