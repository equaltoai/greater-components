import{a as u,t as B,j as De,c as Re,b as _,s as h}from"../chunks/BTgIKdxS.js";import{p as je,h as b,Q as S,b as Ge,d as g,f as ee,g as e,t as F,c as i,s as r,a as Le,R as D,r as t,u as ue}from"../chunks/D-WlePPY.js";import{i as He}from"../chunks/COMTHQNu.js";import{e as $,d as me}from"../chunks/EAUZg0eb.js";import{D as Oe}from"../chunks/DhBnkOx0.js";import{B as R}from"../chunks/B3zyJtUo.js";import{T as Ue}from"../chunks/DPkrTyWx.js";import{T as Ie}from"../chunks/DgOwtbYP.js";import{c as Qe,M as Je,h as Ke,f as ge}from"../chunks/CyXc35a2.js";import{a as Ve,S as H}from"../chunks/-F1yS8MK.js";import"../chunks/BcdIAkWN.js";import{g as We,b as Xe,d as pe,e as Ye,f as Ze,h as et}from"../chunks/Cl-J97cL.js";const tt=(()=>({metadata:{slug:"profile-demo",title:"Profile Application",description:"Profile header, pinned posts, media gallery, and optimistic follow panels stitched together with the published Greater components.",sections:["Profile header","Pinned posts & tabs","Followers & media"]}})),xt=Object.freeze(Object.defineProperty({__proto__:null,load:tt},Symbol.toStringTag,{value:"Module"}));var at=_('<div class="status-stack svelte-maq4gq"></div>'),st=_('<div class="status-stack svelte-maq4gq"></div>'),ot=_('<div class="media-grid svelte-maq4gq"></div>'),it=_('<figure class="svelte-maq4gq"><img loading="lazy" class="svelte-maq4gq"/> <figcaption> </figcaption></figure>'),rt=_('<div class="media-grid svelte-maq4gq"></div>'),lt=_('<div class="status-stack svelte-maq4gq"></div>'),nt=_('<li class="svelte-maq4gq"><div class="connection-meta svelte-maq4gq"><!> <div><strong> </strong> <p class="muted svelte-maq4gq"> </p> <p> </p></div></div> <!></li>'),dt=_('<li class="svelte-maq4gq"><div class="connection-meta svelte-maq4gq"><!> <div><strong> </strong> <p class="muted svelte-maq4gq"> </p> <p> </p></div></div> <!></li>'),ct=_('<section class="profile-section svelte-maq4gq"><!></section> <section class="profile-section svelte-maq4gq"><header class="profile-section__header svelte-maq4gq"><div><p class="section-eyebrow svelte-maq4gq">Pinned posts</p> <h2>Curated highlights</h2> <p class="muted svelte-maq4gq">Two pinned updates keep press kits and release cadences handy.</p></div></header> <div class="pinned-rail svelte-maq4gq"></div></section> <section class="profile-section svelte-maq4gq"><header class="profile-section__header svelte-maq4gq"><div><p class="section-eyebrow svelte-maq4gq">Activity</p> <h2>Posts, replies, media, likes</h2> <p class="muted svelte-maq4gq">The tabs component switches between feed slices without remounting cards.</p></div></header> <!></section> <section class="profile-section profile-section--grid svelte-maq4gq"><div><p class="section-eyebrow svelte-maq4gq">Followers</p> <h2>People subscribed to this profile</h2> <ul class="connections-list svelte-maq4gq"></ul></div> <div><p class="section-eyebrow svelte-maq4gq">Following</p> <h2>Accounts managed by this team</h2> <ul class="connections-list svelte-maq4gq"></ul></div> <p class="muted connections-note svelte-maq4gq" aria-live="polite"> </p></section>',1),vt=_('<form class="edit-form svelte-maq4gq"><!> <!> <div class="modal-footer svelte-maq4gq"><!> <!></div></form>'),ut=_("<!> <!>",1);function Tt(fe,O){je(O,!0);const _e=a=>{R(a,{size:"sm",variant:"solid",onclick:Ce,children:(o,s)=>{D();var l=B("Edit profile");u(o,l)},$$slots:{default:!0}})},qe=a=>{var o=at();$(o,21,()=>$e,s=>s.id,(s,l)=>{H(s,{get status(){return e(l)},density:"comfortable"})}),t(o),u(a,o)},he=a=>{var o=st();$(o,21,()=>Pe,s=>s.id,(s,l)=>{H(s,{get status(){return e(l)},density:"compact"})}),t(o),u(a,o)},we=a=>{var o=Re(),s=ee(o);{var l=c=>{var v=ot();$(v,20,()=>Fe,m=>m,(m,d)=>{Ke(m,{variant:"rounded",class:"profile-media-skeleton",get"data-index"(){return d}})}),t(v),u(c,v)},q=c=>{var v=rt();$(v,21,()=>Te,m=>m.id,(m,d)=>{var y=it(),p=i(y),N=r(p,2),C=i(N,!0);t(N),t(y),F(()=>{me(p,"src",e(d).previewUrl??e(d).url),me(p,"alt",e(d).description),h(C,e(d).description)}),u(m,y)}),t(v),u(c,v)};He(s,c=>{e(te)?c(l):c(q,!1)})}u(a,o)},be=a=>{var o=lt();$(o,21,()=>xe,s=>s.id,(s,l)=>{H(s,{get status(){return e(l)},density:"comfortable"})}),t(o),u(a,o)},U=We();let w=b(S(U)),j=b(!1),G=b(S(U.displayName??"")),L=b(S(oe(U.note??""))),te=b(!0),I=b("");const ye=Xe().slice(0,2),$e=pe().slice(0,3),Pe=Ye().slice(0,3),xe=pe().slice(1,4),Te=Ze(),{followers:ke,following:Se}=et(),Fe=Array.from({length:4},(a,o)=>o);let Q=b(S(ke)),J=b(S(Se));const ae=[{id:"posts",label:"Posts",content:qe},{id:"replies",label:"Replies",content:he},{id:"media",label:"Media",content:we},{id:"likes",label:"Likes",content:be}];let se=b(S(ae[0].id));Ge(()=>{const a=setTimeout(()=>g(te,!1),700);return()=>clearTimeout(a)});function oe(a){return a.replace(/<[^>]*>/g,"").trim()}function Ne(a){const o=a.trim();return o?`<p>${o}</p>`:""}function ie(){g(G,e(w).displayName??"",!0),g(L,oe(e(w).note??""),!0)}function Ce(){ie(),g(j,!0)}function re(){g(j,!1),ie()}function Me(a){a.preventDefault(),g(w,{...e(w),displayName:e(G).trim()||e(w).displayName,note:Ne(e(L))},!0),re()}function le(a,o){const s=a==="followers"?e(Q):e(J),l=s.findIndex(d=>d.id===o);if(l===-1)return;const q=s[l],c={...q,following:!q.following},v=[...s];v[l]=c,a==="followers"?g(Q,v,!0):g(J,v,!0);const m=c.following?1:-1;g(w,{...e(w),followingCount:Math.max(0,e(w).followingCount+m)},!0),g(I,`${c.following?"Following":"Unfollowed"} ${q.displayName}`),setTimeout(()=>g(I,""),2e3)}function ze(a){g(se,a,!0)}var ne=ut(),de=ee(ne);Oe(de,{eyebrow:"Fediverse Surface",get title(){return O.data.metadata.title},get description(){return O.data.metadata.description},children:(a,o)=>{var s=ct(),l=ee(s),q=i(l);Ve(q,{get account(){return e(w)},showFields:!0,showCounts:!0,get followButton(){return _e}}),t(l);var c=r(l,2),v=r(i(c),2);$(v,21,()=>ye,f=>f.id,(f,n)=>{H(f,{get status(){return e(n)},density:"comfortable"})}),t(v),t(c);var m=r(c,2),d=r(i(m),2);Qe(d,{get tabs(){return ae},get activeTab(){return e(se)},onTabChange:ze}),t(m);var y=r(m,2),p=i(y),N=r(i(p),4);$(N,21,()=>e(Q),f=>f.id,(f,n)=>{var P=nt(),x=i(P),M=i(x);ge(M,{get src(){return e(n).avatar},get alt(){return e(n).displayName},size:"md"});var z=r(M,2),T=i(z),K=i(T,!0);t(T);var k=r(T,2),V=i(k);t(k);var A=r(k,2),W=i(A,!0);t(A),t(z),t(x);var X=r(x,2);{let Y=ue(()=>e(n).following?"outline":"solid");R(X,{size:"sm",get variant(){return e(Y)},onclick:()=>le("followers",e(n).id),children:(Z,Be)=>{D();var E=B();F(()=>h(E,e(n).following?"Following":"Follow back")),u(Z,E)},$$slots:{default:!0}})}t(P),F(()=>{h(K,e(n).displayName),h(V,`@${e(n).acct??""}`),h(W,e(n).note)}),u(f,P)}),t(N),t(p);var C=r(p,2),ce=r(i(C),4);$(ce,21,()=>e(J),f=>f.id,(f,n)=>{var P=dt(),x=i(P),M=i(x);ge(M,{get src(){return e(n).avatar},get alt(){return e(n).displayName},size:"md"});var z=r(M,2),T=i(z),K=i(T,!0);t(T);var k=r(T,2),V=i(k);t(k);var A=r(k,2),W=i(A,!0);t(A),t(z),t(x);var X=r(x,2);{let Y=ue(()=>e(n).following?"outline":"solid");R(X,{size:"sm",get variant(){return e(Y)},onclick:()=>le("following",e(n).id),children:(Z,Be)=>{D();var E=B();F(()=>h(E,e(n).following?"Following":"Follow")),u(Z,E)},$$slots:{default:!0}})}t(P),F(()=>{h(K,e(n).displayName),h(V,`@${e(n).acct??""}`),h(W,e(n).note)}),u(f,P)}),t(ce),t(C);var ve=r(C,2),Ee=i(ve,!0);t(ve),t(y),F(()=>h(Ee,e(I)||"Follow toggles update counts optimistically.")),u(a,s)},$$slots:{default:!0}});var Ae=r(de,2);Je(Ae,{title:"Edit profile",get open(){return e(j)},set open(a){g(j,a,!0)},children:(a,o)=>{var s=vt(),l=i(s);Ue(l,{label:"Display name",required:!0,get value(){return e(G)},set value(d){g(G,d,!0)}});var q=r(l,2);Ie(q,{label:"Bio",rows:4,get value(){return e(L)},set value(d){g(L,d,!0)}});var c=r(q,2),v=i(c);R(v,{variant:"ghost",type:"button",onclick:re,children:(d,y)=>{D();var p=B("Cancel");u(d,p)},$$slots:{default:!0}});var m=r(v,2);R(m,{type:"submit",children:(d,y)=>{D();var p=B("Save changes");u(d,p)},$$slots:{default:!0}}),t(c),t(s),De("submit",s,Me),u(a,s)},$$slots:{default:!0}}),u(fe,ne),Le()}export{Tt as component,xt as universal};
