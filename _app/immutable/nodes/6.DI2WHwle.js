import{a as s,b as l,s as n,c as Se,j as We,g as xe,h as he,t as Me}from"../chunks/BTgIKdxS.js";import{al as ft,ak as bt,p as ze,s as i,t as y,a as Ae,c as t,g as r,r as e,u as ue,f as we,P as $e,d as re,h as fe,R as Qe,Q as pt}from"../chunks/D-WlePPY.js";import{c as He}from"../chunks/D4O329PC.js";import{D as qt}from"../chunks/DhBnkOx0.js";import{C as gt}from"../chunks/DeXdVqsM.js";import{b as yt,s as me,c as wt,d as ce,e as ye,f as kt,r as Te,j as et,k as tt,g as xt,h as Ct}from"../chunks/EAUZg0eb.js";import{p as ne,i as f}from"../chunks/COMTHQNu.js";import{b as je,a as St}from"../chunks/CyXc35a2.js";const rt=Symbol("critique-circle-context"),Rt={showQueue:!0,showSession:!0,showHistory:!0,showMembers:!0,enableAnonymousFeedback:!0,enableRealtime:!0,class:""};function ge(_){return typeof _=="function"?_():_}function Mt(_,a="viewer",L={},q={}){const Q={get circle(){return ge(_)},get config(){return{...Rt,...ge(L)}},get handlers(){return ge(q)},get membership(){return ge(a)},get currentMember(){const $=ge(_),b=ge(a);return $.members.find(o=>o.role===b||b==="admin"&&o.role==="admin"||b==="moderator"&&o.role==="moderator")||null},session:{get isActive(){return!!ge(_).activeSession},get currentSubmission(){return ge(_).activeSession||null},timeRemaining:null,currentTurnHolder:null,get canGiveFeedback(){const $=ge(a);return $!=="viewer"&&$!=="pending"}},queue:{userPosition:null,estimatedWaitTime:null,hasPriority:!1},selectedHistoryItem:null,isSubmitting:!1};return bt(rt,Q),Q}function De(){const _=ft(rt);if(!_)throw new Error("CritiqueCircle context not found. Ensure this component is used within a CritiqueCircle.Root component.");return _}function zt(_){return _.membership==="member"||_.membership==="moderator"||_.membership==="admin"}function At(_){return _.membership!=="viewer"&&_.membership!=="pending"}function It(_){return _.membership==="admin"||_.membership==="moderator"}function Ft(_){return _.membership==="admin"}function Ht(_,a=30){return _*a}function Ze(_){if(_<60)return`~${_} min`;const a=Math.floor(_/60),L=_%60;return L===0?`~${a} hr`:`~${a} hr ${L} min`}function Lt(_){switch(_){case"admin":return{label:"Admin",color:"var(--gr-color-warning-500)"};case"moderator":return{label:"Moderator",color:"var(--gr-color-primary-500)"};default:return{label:"Member",color:"var(--gr-color-gray-500)"}}}var Tt=l('<div class="critique-circle__cover svelte-tk1jsw"><img alt="" class="svelte-tk1jsw"/></div>'),jt=l('<p class="critique-circle__description svelte-tk1jsw"> </p>'),Dt=l('<span class="critique-circle__skill-level svelte-tk1jsw"> </span>'),Et=l('<span class="critique-circle__private svelte-tk1jsw">Private</span>'),Nt=l('<span class="critique-circle__focus-tag svelte-tk1jsw"> </span>'),Pt=l('<div class="critique-circle__focus-areas svelte-tk1jsw"></div>'),Qt=l('<section><header class="critique-circle__header svelte-tk1jsw"><!> <div class="critique-circle__info svelte-tk1jsw"><h2 class="critique-circle__name svelte-tk1jsw"> </h2> <!> <div class="critique-circle__meta svelte-tk1jsw"><span class="critique-circle__member-count"> </span> <!> <!></div> <!></div></header> <div class="critique-circle__content svelte-tk1jsw"><!></div></section>');function Wt(_,a){ze(a,!0);let L=ne(a,"membership",3,"viewer"),q=ne(a,"handlers",19,()=>({})),Q=ne(a,"showQueue",3,!0),$=ne(a,"showSession",3,!0),b=ne(a,"showHistory",3,!0),o=ne(a,"showMembers",3,!0),j=ne(a,"enableAnonymousFeedback",3,!0),W=ne(a,"class",3,"");const le=ue(()=>({showQueue:Q(),showSession:$(),showHistory:b(),showMembers:o(),enableAnonymousFeedback:j()})),ee=Mt(()=>a.circle,()=>L(),()=>r(le),()=>q()),oe=ue(()=>["critique-circle",`critique-circle--${L()}`,ee.session.isActive&&"critique-circle--session-active",W()].filter(Boolean).join(" "));var M=Qt(),U=t(M),H=t(U);{var T=c=>{var u=Tt(),h=t(u);e(u),y(()=>ce(h,"src",a.circle.coverImage)),s(c,u)};f(H,c=>{a.circle.coverImage&&c(T)})}var O=i(H,2),I=t(O),E=t(I,!0);e(I);var J=i(I,2);{var V=c=>{var u=jt(),h=t(u,!0);e(u),y(()=>n(h,a.circle.description)),s(c,u)};f(J,c=>{a.circle.description&&c(V)})}var Y=i(J,2),ie=t(Y),G=t(ie);e(ie);var w=i(ie,2);{var v=c=>{var u=Dt(),h=t(u,!0);e(u),y(()=>n(h,a.circle.skillLevel)),s(c,u)};f(w,c=>{a.circle.skillLevel&&a.circle.skillLevel!=="all"&&c(v)})}var k=i(w,2);{var S=c=>{var u=Et();s(c,u)};f(k,c=>{a.circle.isPublic||c(S)})}e(Y);var m=i(Y,2);{var F=c=>{var u=Pt();ye(u,20,()=>a.circle.focusAreas,h=>h,(h,Z)=>{var N=Nt(),D=t(N,!0);e(N),y(()=>n(D,Z)),s(h,N)}),e(u),s(c,u)};f(m,c=>{a.circle.focusAreas?.length&&c(F)})}e(O),e(U);var p=i(U,2),x=t(p);yt(x,()=>a.children),e(p),e(M),y(()=>{me(M,1,wt(r(oe)),"svelte-tk1jsw"),ce(M,"aria-label",`Critique Circle: ${a.circle.name}`),ce(M,"data-membership",L()),ce(M,"data-session-active",ee.session.isActive),n(E,a.circle.name),n(G,`${a.circle.members.length??""}${a.circle.maxMembers?`/${a.circle.maxMembers}`:""} members`)}),s(_,M),Ae()}var Ot=l('<form class="critique-queue__form svelte-1pr3ftx"><div class="critique-queue__field svelte-1pr3ftx"><label for="artwork-select" class="svelte-1pr3ftx">Select Artwork</label> <select id="artwork-select" required="" class="svelte-1pr3ftx"><option>Choose artwork...</option></select></div> <div class="critique-queue__field svelte-1pr3ftx"><label for="feedback-requested" class="svelte-1pr3ftx">What feedback are you looking for? (optional)</label> <textarea id="feedback-requested" placeholder="e.g., Color harmony, composition, technique..." rows="3" class="svelte-1pr3ftx"></textarea></div> <button type="submit" class="critique-queue__submit svelte-1pr3ftx"> </button></form>'),Gt=l('<p class="critique-queue__empty svelte-1pr3ftx">No artworks in queue. Be the first to submit!</p>'),Bt=l('<article class="critique-queue__item svelte-1pr3ftx" role="listitem"><div class="critique-queue__position svelte-1pr3ftx"> </div> <div class="critique-queue__artwork svelte-1pr3ftx"><img class="critique-queue__thumbnail svelte-1pr3ftx"/> <div class="critique-queue__details svelte-1pr3ftx"><span class="critique-queue__artwork-title svelte-1pr3ftx"> </span> <span class="critique-queue__artist svelte-1pr3ftx"> </span></div></div> <div class="critique-queue__wait svelte-1pr3ftx"><span class="critique-queue__wait-label svelte-1pr3ftx">Est. wait:</span> <span class="critique-queue__wait-time svelte-1pr3ftx"> </span></div></article>'),Ut=l('<p class="svelte-1pr3ftx">Estimated wait: <strong> </strong></p>'),Vt=l('<span class="critique-queue__priority-badge svelte-1pr3ftx">Priority Queue</span>'),Yt=l('<div class="critique-queue__status svelte-1pr3ftx" role="status"><p class="svelte-1pr3ftx">Your position: <strong> </strong></p> <!> <!></div>'),Kt=l('<div><h3 class="critique-queue__title svelte-1pr3ftx">Critique Queue</h3> <!> <div class="critique-queue__list svelte-1pr3ftx" role="list" aria-label="Critique queue"><!></div> <!></div>');function Xt(_,a){ze(a,!0);let L=ne(a,"class",3,"");const q=De(),{circle:Q,config:$,handlers:b}=q;let o=fe(""),j=fe("");const W=ue(()=>zt(q)),le=ue(()=>Q.queue.map((H,T)=>({...H,position:T+1,estimatedWait:Ze(Ht(T+1))})));async function ee(H){if(H.preventDefault(),!(!r(j)||q.isSubmitting)){q.isSubmitting=!0;try{await b.onSubmit?.(Q,{id:r(j)},r(o)||void 0),re(o,""),re(j,"")}finally{q.isSubmitting=!1}}}var oe=Se(),M=we(oe);{var U=H=>{var T=Kt(),O=i(t(T),2);{var I=w=>{var v=Ot(),k=t(v),S=i(t(k),2),m=t(S);m.value=m.__value="",e(S),e(k);var F=i(k,2),p=i(t(F),2);$e(p),e(F);var x=i(F,2),c=t(x,!0);e(x),e(v),y(()=>{x.disabled=!r(j)||q.isSubmitting,n(c,q.isSubmitting?"Submitting...":"Submit for Critique")}),We("submit",v,ee),kt(S,()=>r(j),u=>re(j,u)),je(p,()=>r(o),u=>re(o,u)),s(w,v)};f(O,w=>{r(W)&&w(I)})}var E=i(O,2),J=t(E);{var V=w=>{var v=Gt();s(w,v)},Y=w=>{var v=Se(),k=we(v);ye(k,17,()=>r(le),S=>S.id,(S,m)=>{var F=Bt(),p=t(F),x=t(p);e(p);var c=i(p,2),u=t(c),h=i(u,2),Z=t(h),N=t(Z,!0);e(Z);var D=i(Z,2),g=t(D);e(D),e(h),e(c);var C=i(c,2),z=i(t(C),2),K=t(z,!0);e(z),e(C),e(F),y(()=>{n(x,`#${r(m).position??""}`),ce(u,"src",r(m).artwork.images.thumbnail),ce(u,"alt",r(m).artwork.altText),n(N,r(m).artwork.title),n(g,`by ${r(m).artwork.artist.name??""}`),n(K,r(m).estimatedWait)}),s(S,F)}),s(w,v)};f(J,w=>{r(le).length===0?w(V):w(Y,!1)})}e(E);var ie=i(E,2);{var G=w=>{var v=Yt(),k=t(v),S=i(t(k)),m=t(S);e(S),e(k);var F=i(k,2);{var p=u=>{var h=Ut(),Z=i(t(h)),N=t(Z,!0);e(Z),e(h),y(D=>n(N,D),[()=>Ze(q.queue.estimatedWaitTime)]),s(u,h)};f(F,u=>{q.queue.estimatedWaitTime!==null&&u(p)})}var x=i(F,2);{var c=u=>{var h=Vt();s(u,h)};f(x,u=>{q.queue.hasPriority&&u(c)})}e(v),y(()=>n(m,`#${q.queue.userPosition??""}`)),s(w,v)};f(ie,w=>{q.queue.userPosition!==null&&w(G)})}e(T),y(()=>me(T,1,`critique-queue ${L()}`,"svelte-1pr3ftx")),s(H,T)};f(M,H=>{$.showQueue&&H(U)})}s(_,oe),Ae()}var Jt=l('<div class="critique-session__feedback-requested svelte-fq729w"><h5 class="svelte-fq729w">Feedback Requested:</h5> <p class="svelte-fq729w"> </p></div>'),Zt=l('<div class="critique-session__timer svelte-fq729w" role="timer" aria-live="polite"><span class="critique-session__timer-label svelte-fq729w">Time Remaining:</span> <span class="critique-session__timer-value svelte-fq729w"> </span></div>'),$t=l('<label class="critique-session__anonymous svelte-fq729w"><input type="checkbox"/> <span>Submit anonymously</span></label>'),er=l('<form class="critique-session__form svelte-fq729w"><div class="critique-session__field svelte-fq729w"><label for="feedback-summary" class="svelte-fq729w">Your Feedback</label> <textarea id="feedback-summary" placeholder="Share your constructive feedback..." rows="4" required="" class="svelte-fq729w"></textarea></div> <!> <button type="submit" class="critique-session__submit svelte-fq729w"> </button></form>'),tr=l('<div class="critique-session__critique svelte-fq729w"><div class="critique-session__critique-header svelte-fq729w"><span class="critique-session__critique-author svelte-fq729w"> </span> <time class="critique-session__critique-date svelte-fq729w"> </time></div> <p class="critique-session__critique-summary svelte-fq729w"> </p></div>'),rr=l('<div class="critique-session__critiques svelte-fq729w"><h5 class="svelte-fq729w"> </h5> <!></div>'),ir=l('<div class="critique-session__active svelte-fq729w"><div class="critique-session__artwork svelte-fq729w"><img class="critique-session__image svelte-fq729w"/> <div class="critique-session__artwork-info svelte-fq729w"><h4 class="critique-session__artwork-title svelte-fq729w"> </h4> <p class="critique-session__artwork-artist svelte-fq729w"> </p></div></div> <!> <!> <!> <!></div>'),sr=l('<div class="critique-session__empty svelte-fq729w"><p class="svelte-fq729w">No active critique session.</p> <p class="critique-session__empty-hint svelte-fq729w">Sessions start when an artwork from the queue is selected for critique.</p></div>'),ar=l('<div><h3 class="critique-session__title svelte-fq729w">Active Session</h3> <!></div>');function lr(_,a){ze(a,!0);let L=ne(a,"class",3,"");const q=De(),{config:Q,handlers:$,session:b}=q;let o=fe(""),j=fe(!1),W=fe(!1);const le=ue(()=>At(q)),ee=ue(()=>()=>{if(b.timeRemaining===null)return null;const T=Math.floor(b.timeRemaining/60),O=b.timeRemaining%60;return`${T}:${O.toString().padStart(2,"0")}`});async function oe(T){if(T.preventDefault(),!(!b.currentSubmission||!r(o).trim()||r(W))){re(W,!0);try{await $.onCritique?.(b.currentSubmission,[],r(o)),re(o,"")}finally{re(W,!1)}}}var M=Se(),U=we(M);{var H=T=>{var O=ar(),I=i(t(O),2);{var E=V=>{var Y=ir(),ie=t(Y),G=t(ie),w=i(G,2),v=t(w),k=t(v,!0);e(v);var S=i(v,2),m=t(S);e(S),e(w),e(ie);var F=i(ie,2);{var p=g=>{var C=Jt(),z=i(t(C),2),K=t(z,!0);e(z),e(C),y(()=>n(K,b.currentSubmission.feedbackRequested)),s(g,C)};f(F,g=>{b.currentSubmission.feedbackRequested&&g(p)})}var x=i(F,2);{var c=g=>{var C=Zt(),z=i(t(C),2),K=t(z,!0);e(z),e(C),y(R=>n(K,R),[()=>r(ee)()]),s(g,C)},u=ue(()=>r(ee)());f(x,g=>{r(u)&&g(c)})}var h=i(x,2);{var Z=g=>{var C=er(),z=t(C),K=i(t(z),2);$e(K),e(z);var R=i(z,2);{var P=d=>{var te=$t(),ae=t(te);Te(ae),Qe(2),e(te),St(ae,()=>r(j),ve=>re(j,ve)),s(d,te)};f(R,d=>{Q.enableAnonymousFeedback&&d(P)})}var X=i(R,2),se=t(X,!0);e(X),e(C),y(d=>{X.disabled=d,n(se,r(W)?"Submitting...":"Submit Feedback")},[()=>!r(o).trim()||r(W)]),We("submit",C,oe),je(K,()=>r(o),d=>re(o,d)),s(g,C)};f(h,g=>{r(le)&&b.canGiveFeedback&&g(Z)})}var N=i(h,2);{var D=g=>{var C=rr(),z=t(C),K=t(z);e(z);var R=i(z,2);ye(R,17,()=>b.currentSubmission.critiques,P=>P.createdAt,(P,X)=>{var se=tr(),d=t(se),te=t(d),ae=t(te,!0);e(te);var ve=i(te,2),be=t(ve,!0);e(ve),e(d);var pe=i(d,2),Re=t(pe,!0);e(pe),e(se),y(Ce=>{n(ae,r(X).authorName),n(be,Ce),n(Re,r(X).summary)},[()=>new Date(r(X).createdAt).toLocaleDateString()]),s(P,se)}),e(C),y(()=>n(K,`Feedback Received (${b.currentSubmission.critiques.length??""})`)),s(g,C)};f(N,g=>{b.currentSubmission.critiques.length>0&&g(D)})}e(Y),y(()=>{ce(G,"src",b.currentSubmission.artwork.images.standard),ce(G,"alt",b.currentSubmission.artwork.altText),n(k,b.currentSubmission.artwork.title),n(m,`by ${b.currentSubmission.artwork.artist.name??""}`)}),s(V,Y)},J=V=>{var Y=sr();s(V,Y)};f(I,V=>{b.isActive&&b.currentSubmission?V(E):V(J,!1)})}e(O),y(()=>me(O,1,`critique-session ${L()}`,"svelte-fq729w")),s(T,O)};f(U,T=>{Q.showSession&&T(H)})}s(_,M),Ae()}var vr=l('<p class="critique-history__empty svelte-104bm68">No critique history found.</p>'),nr=l('<span class="critique-history__complete-badge svelte-104bm68">Complete</span>'),or=l('<div role="listitem"><button type="button"><img class="critique-history__thumbnail svelte-104bm68"/> <div class="critique-history__item-info svelte-104bm68"><span class="critique-history__item-title svelte-104bm68"> </span> <span class="critique-history__item-artist svelte-104bm68"> </span> <span class="critique-history__item-meta svelte-104bm68"> </span></div> <!></button></div>'),cr=l('<div class="critique-history__feedback-requested svelte-104bm68"><strong>Feedback Requested:</strong> <p class="svelte-104bm68"> </p></div>'),ur=l('<div class="critique-history__critique svelte-104bm68"><div class="critique-history__critique-header svelte-104bm68"><span> </span> <time class="svelte-104bm68"> </time></div> <p class="svelte-104bm68"> </p></div>'),_r=l('<div class="critique-history__detail svelte-104bm68"><h4 class="svelte-104bm68"> </h4> <!> <div class="critique-history__critiques svelte-104bm68"></div></div>'),dr=l('<div><h3 class="critique-history__title svelte-104bm68">Critique History</h3> <div class="critique-history__filters svelte-104bm68"><input type="search" placeholder="Search critiques..." class="critique-history__search svelte-104bm68"/> <div class="critique-history__filter-buttons svelte-104bm68" role="tablist"><button type="button" role="tab">All</button> <button type="button" role="tab">Received</button> <button type="button" role="tab">Given</button></div></div> <div class="critique-history__list svelte-104bm68" role="list"><!></div> <!></div>');function mr(_,a){ze(a,!0);let L=ne(a,"class",3,"");const q=De(),{circle:Q,config:$}=q;let b=fe(""),o=fe("all");const j=ue(()=>()=>{let M=Q.history;if(r(b).trim()){const U=r(b).toLowerCase();M=M.filter(H=>H.artwork.title.toLowerCase().includes(U)||H.artwork.artist.name.toLowerCase().includes(U)||H.feedbackRequested?.toLowerCase().includes(U))}return M});function W(M){q.selectedHistoryItem=q.selectedHistoryItem?.id===M.id?null:M}var le=Se(),ee=we(le);{var oe=M=>{var U=dr(),H=i(t(U),2),T=t(H);Te(T);var O=i(T,2),I=t(O);let E;var J=i(I,2);let V;var Y=i(J,2);let ie;e(O),e(H);var G=i(H,2),w=t(G);{var v=p=>{var x=vr();s(p,x)},k=ue(()=>r(j)().length===0),S=p=>{var x=Se(),c=we(x);ye(c,17,()=>r(j)(),u=>u.id,(u,h)=>{var Z=or(),N=t(Z);let D;var g=t(N),C=i(g,2),z=t(C),K=t(z,!0);e(z);var R=i(z,2),P=t(R);e(R);var X=i(R,2),se=t(X);e(X),e(C);var d=i(C,2);{var te=ae=>{var ve=nr();s(ae,ve)};f(d,ae=>{r(h).isComplete&&ae(te)})}e(N),e(Z),y(ae=>{D=me(N,1,"critique-history__item svelte-104bm68",null,D,{selected:q.selectedHistoryItem?.id===r(h).id}),ce(g,"src",r(h).artwork.images.thumbnail),ce(g,"alt",r(h).artwork.altText),n(K,r(h).artwork.title),n(P,`by ${r(h).artwork.artist.name??""}`),n(se,`${r(h).critiques.length??""} critique${r(h).critiques.length!==1?"s":""} •
									${ae??""}`)},[()=>new Date(r(h).submittedAt).toLocaleDateString()]),he("click",N,()=>W(r(h))),s(u,Z)}),s(p,x)};f(w,p=>{r(k)?p(v):p(S,!1)})}e(G);var m=i(G,2);{var F=p=>{var x=_r(),c=t(x),u=t(c,!0);e(c);var h=i(c,2);{var Z=D=>{var g=cr(),C=i(t(g),2),z=t(C,!0);e(C),e(g),y(()=>n(z,q.selectedHistoryItem.feedbackRequested)),s(D,g)};f(h,D=>{q.selectedHistoryItem.feedbackRequested&&D(Z)})}var N=i(h,2);ye(N,21,()=>q.selectedHistoryItem.critiques,D=>D.createdAt,(D,g)=>{var C=ur(),z=t(C),K=t(z),R=t(K,!0);e(K);var P=i(K,2),X=t(P,!0);e(P),e(z);var se=i(z,2),d=t(se,!0);e(se),e(C),y(te=>{n(R,r(g).authorName),n(X,te),n(d,r(g).summary)},[()=>new Date(r(g).createdAt).toLocaleDateString()]),s(D,C)}),e(N),e(x),y(()=>n(u,q.selectedHistoryItem.artwork.title)),s(p,x)};f(m,p=>{q.selectedHistoryItem&&p(F)})}e(U),y(()=>{me(U,1,`critique-history ${L()}`,"svelte-104bm68"),E=me(I,1,"critique-history__filter-btn svelte-104bm68",null,E,{active:r(o)==="all"}),ce(I,"aria-selected",r(o)==="all"),V=me(J,1,"critique-history__filter-btn svelte-104bm68",null,V,{active:r(o)==="received"}),ce(J,"aria-selected",r(o)==="received"),ie=me(Y,1,"critique-history__filter-btn svelte-104bm68",null,ie,{active:r(o)==="given"}),ce(Y,"aria-selected",r(o)==="given")}),je(T,()=>r(b),p=>re(b,p)),he("click",I,()=>re(o,"all")),he("click",J,()=>re(o,"received")),he("click",Y,()=>re(o,"given")),s(M,U)};f(ee,M=>{$.showHistory&&M(oe)})}s(_,le),Ae()}xe(["click"]);var hr=l('<button type="button" class="critique-members__invite-btn svelte-1p3ilkh"> </button>'),fr=l('<form class="critique-members__invite-form svelte-1p3ilkh"><input type="text" placeholder="Artist username or ID..." class="critique-members__invite-input svelte-1p3ilkh"/> <button type="submit" class="critique-members__invite-submit svelte-1p3ilkh"> </button></form>'),br=l('<div class="critique-members__actions svelte-1p3ilkh"><select class="critique-members__role-select svelte-1p3ilkh"><option>Member</option><option>Moderator</option></select></div>'),pr=l('<div class="critique-members__item svelte-1p3ilkh" role="listitem"><img alt="" class="critique-members__avatar svelte-1p3ilkh"/> <div class="critique-members__info svelte-1p3ilkh"><div class="critique-members__name-row svelte-1p3ilkh"><span class="critique-members__name svelte-1p3ilkh"> </span> <span> </span></div> <span class="critique-members__username svelte-1p3ilkh"> </span> <div class="critique-members__stats svelte-1p3ilkh"><span> </span> <span> </span></div></div> <!></div>'),qr=l('<div><div class="critique-members__header svelte-1p3ilkh"><h3 class="critique-members__title svelte-1p3ilkh"> </h3> <!></div> <!> <div class="critique-members__list svelte-1p3ilkh" role="list"></div></div>');function gr(_,a){ze(a,!0);let L=ne(a,"class",3,"");const q=De(),{circle:Q,config:$,handlers:b}=q;let o=fe(!1),j=fe(""),W=fe(!1);const le=ue(()=>It(q)),ee=ue(()=>Ft(q)),oe=ue(()=>()=>{const I={admin:0,moderator:1,member:2};return[...Q.members].sort((E,J)=>I[E.role]-I[J.role])});async function M(I){if(I.preventDefault(),!(!r(j).trim()||r(W))){re(W,!0);try{await b.onInvite?.(Q,r(j)),re(j,""),re(o,!1)}finally{re(W,!1)}}}async function U(I,E){await b.onChangeRole?.(Q,I.artist.id,E)}var H=Se(),T=we(H);{var O=I=>{var E=qr(),J=t(E),V=t(J),Y=t(V);e(V);var ie=i(V,2);{var G=S=>{var m=hr(),F=t(m,!0);e(m),y(()=>n(F,r(o)?"Cancel":"Invite")),he("click",m,()=>re(o,!r(o))),s(S,m)};f(ie,S=>{r(le)&&S(G)})}e(J);var w=i(J,2);{var v=S=>{var m=fr(),F=t(m);Te(F);var p=i(F,2),x=t(p,!0);e(p),e(m),y(c=>{p.disabled=c,n(x,r(W)?"Inviting...":"Send Invite")},[()=>!r(j).trim()||r(W)]),We("submit",m,M),je(F,()=>r(j),c=>re(j,c)),s(S,m)};f(w,S=>{r(o)&&r(le)&&S(v)})}var k=i(w,2);ye(k,21,()=>r(oe)(),S=>S.artist.id,(S,m)=>{const F=ue(()=>Lt(r(m).role));var p=pr(),x=t(p),c=i(x,2),u=t(c),h=t(u),Z=t(h,!0);e(h);var N=i(h,2),D=t(N,!0);e(N),e(u);var g=i(u,2),C=t(g);e(g);var z=i(g,2),K=t(z),R=t(K);e(K);var P=i(K,2),X=t(P);e(P),e(z),e(c);var se=i(c,2);{var d=te=>{var ae=br(),ve=t(ae),be=t(ve);be.value=be.__value="member";var pe=i(be);pe.value=pe.__value="moderator",e(ve);var Re;et(ve),e(ae),y(()=>{Re!==(Re=r(m).role)&&(ve.value=(ve.__value=r(m).role)??"",tt(ve,r(m).role))}),he("change",ve,Ce=>U(r(m),Ce.target.value)),s(te,ae)};f(se,te=>{r(ee)&&r(m).role!=="admin"&&te(d)})}e(p),y(()=>{ce(x,"src",r(m).artist.avatar||""),n(Z,r(m).artist.displayName),me(N,1,`critique-members__badge critique-members__badge--${r(m).role}`,"svelte-1p3ilkh"),n(D,r(F).label),n(C,`@${r(m).artist.username??""}`),n(R,`Given: ${r(m).critiquesGiven??""}`),n(X,`Received: ${r(m).critiquesReceived??""}`)}),s(S,p)}),e(k),e(E),y(()=>{me(E,1,`critique-members ${L()}`,"svelte-1p3ilkh"),n(Y,`Members (${Q.members.length??""}${Q.maxMembers?`/${Q.maxMembers}`:""})`)}),s(I,E)};f(T,I=>{$.showMembers&&I(O)})}s(_,H),Ae()}xe(["click","change"]);const Le={Root:Wt,Queue:Xt,Session:lr,History:mr,Members:gr};xe(["change"]);xe(["click"]);xe(["change","click"]);xe(["click"]);xe(["click","input"]);var yr=l("<option> </option>"),wr=l('<p class="mentor-match__empty svelte-5clzhn">No matches found. Try adjusting your filters.</p>'),kr=l('<span class="mentor-match__verified svelte-5clzhn" title="Verified Mentor">✓</span>'),xr=l('<span class="mentor-match__criterion svelte-5clzhn"> </span>'),Cr=l('<div class="mentor-match__criteria svelte-5clzhn"></div>'),Sr=l("<li>One-on-one sessions</li>"),Rr=l("<li>Portfolio reviews</li>"),Mr=l("<li>Ongoing mentorship</li>"),zr=l("<li> </li>"),Ar=l("<span> </span>"),Ir=l("<span> </span>"),Fr=l('<div class="mentor-match__rates svelte-5clzhn"><!> <!></div>'),Hr=l('<div class="mentor-match__reviews svelte-5clzhn"><span class="mentor-match__rating svelte-5clzhn"> </span> <span class="mentor-match__review-count svelte-5clzhn"> </span></div>'),Lr=l('<article class="mentor-match__card svelte-5clzhn"><div class="mentor-match__card-header svelte-5clzhn"><img alt="" class="mentor-match__avatar svelte-5clzhn"/> <div class="mentor-match__card-info svelte-5clzhn"><h3 class="mentor-match__name svelte-5clzhn"> </h3> <span class="mentor-match__username svelte-5clzhn"> </span> <!></div> <div class="mentor-match__score svelte-5clzhn"><span class="mentor-match__score-value svelte-5clzhn"> </span> <span class="mentor-match__score-label svelte-5clzhn">Match</span></div></div> <!> <div class="mentor-match__availability svelte-5clzhn"><h4 class="svelte-5clzhn">Availability</h4> <ul class="svelte-5clzhn"><!> <!> <!> <!></ul></div> <!> <!> <button type="button" class="mentor-match__request-btn svelte-5clzhn"> </button></article>'),Tr=l('<div class="mentor-match__filters svelte-5clzhn"><div class="mentor-match__filter svelte-5clzhn"><label for="styles" class="svelte-5clzhn">Art Styles</label> <input id="styles" type="text" placeholder="e.g., digital, watercolor, oil..." class="svelte-5clzhn"/></div> <div class="mentor-match__filter svelte-5clzhn"><label for="level" class="svelte-5clzhn">Experience Level</label> <select id="level" class="svelte-5clzhn"><option>Any level</option><!></select></div> <div class="mentor-match__filter svelte-5clzhn"><label class="svelte-5clzhn"><input type="checkbox" class="svelte-5clzhn"/> Verified mentors only</label></div></div> <div class="mentor-match__results svelte-5clzhn"><!></div>',1),jr=l('<div class="mentor-match__active"><p class="mentor-match__empty svelte-5clzhn">Active mentorship dashboard coming soon.</p></div>'),Dr=l('<div><header class="mentor-match__header svelte-5clzhn"><h2 class="mentor-match__title svelte-5clzhn"><!></h2> <p class="mentor-match__subtitle svelte-5clzhn"><!></p></header> <!></div>');function Er(_,a){ze(a,!0);let L=ne(a,"mode",3,"find-mentor"),q=ne(a,"filters",19,()=>({})),Q=ne(a,"matches",19,()=>[]),$=ne(a,"handlers",19,()=>({})),b=ne(a,"class",3,""),o=pt({...q()});const j=["beginner","intermediate","advanced"];function W(){$().onSearch?.(o)}async function le(v){await $().onRequestMentorship?.(v.mentor,"ongoingMentorship")}var ee=Dr(),oe=t(ee),M=t(oe),U=t(M);{var H=v=>{var k=Me("Find a Mentor");s(v,k)},T=v=>{var k=Me("Find a Mentee");s(v,k)},O=v=>{var k=Me("Active Mentorships");s(v,k)};f(U,v=>{L()==="find-mentor"?v(H):L()==="find-mentee"?v(T,1):v(O,!1)})}e(M);var I=i(M,2),E=t(I);{var J=v=>{var k=Me("Connect with experienced artists who can guide your growth");s(v,k)},V=v=>{var k=Me("Share your expertise with emerging artists");s(v,k)},Y=v=>{var k=Me("Manage your mentorship connections");s(v,k)};f(E,v=>{L()==="find-mentor"?v(J):L()==="find-mentee"?v(V,1):v(Y,!1)})}e(I),e(oe);var ie=i(oe,2);{var G=v=>{var k=Tr(),S=we(k),m=t(S),F=i(t(m),2);Te(F),e(m);var p=i(m,2),x=i(t(p),2),c=t(x);c.value=c.__value="";var u=i(c);ye(u,16,()=>j,R=>R,(R,P)=>{var X=yr(),se=t(X,!0);e(X);var d={};y(()=>{n(se,P),d!==(d=P)&&(X.value=(X.__value=P)??"")}),s(R,X)}),e(x);var h;et(x),e(p);var Z=i(p,2),N=t(Z),D=t(N);Te(D),Qe(),e(N),e(Z),e(S);var g=i(S,2),C=t(g);{var z=R=>{var P=wr();s(R,P)},K=R=>{var P=Se(),X=we(P);ye(X,17,Q,se=>se.mentor.id,(se,d)=>{var te=Lr(),ae=t(te),ve=t(ae),be=i(ve,2),pe=t(be),Re=t(pe,!0);e(pe);var Ce=i(pe,2),it=t(Ce);e(Ce);var st=i(Ce,2);{var at=A=>{var B=kr();s(A,B)};f(st,A=>{r(d).mentor.isVerified&&A(at)})}e(be);var Oe=i(be,2),Ge=t(Oe),lt=t(Ge);e(Ge),Qe(2),e(Oe),e(ae);var Be=i(ae,2);{var vt=A=>{var B=Cr();ye(B,20,()=>r(d).matchingCriteria,_e=>_e,(_e,Ie)=>{var ke=xr(),Fe=t(ke,!0);e(ke),y(()=>n(Fe,Ie)),s(_e,ke)}),e(B),s(A,B)};f(Be,A=>{r(d).matchingCriteria.length>0&&A(vt)})}var Ee=i(Be,2),Ue=i(t(Ee),2),Ve=t(Ue);{var nt=A=>{var B=Sr();s(A,B)};f(Ve,A=>{r(d).availability.oneOnOne&&A(nt)})}var Ye=i(Ve,2);{var ot=A=>{var B=Rr();s(A,B)};f(Ye,A=>{r(d).availability.portfolioReview&&A(ot)})}var Ke=i(Ye,2);{var ct=A=>{var B=Mr();s(A,B)};f(Ke,A=>{r(d).availability.ongoingMentorship&&A(ct)})}var ut=i(Ke,2);{var _t=A=>{var B=zr(),_e=t(B);e(B),y(()=>n(_e,`${r(d).availability.hoursPerWeek??""} hrs/week`)),s(A,B)};f(ut,A=>{r(d).availability.hoursPerWeek&&A(_t)})}e(Ue),e(Ee);var Xe=i(Ee,2);{var dt=A=>{var B=Fr(),_e=t(B);{var Ie=de=>{var qe=Ar(),Pe=t(qe);e(qe),y(()=>n(Pe,`${r(d).rates.currency??""}${r(d).rates.hourlyRate??""}/hr`)),s(de,qe)};f(_e,de=>{r(d).rates.hourlyRate&&de(Ie)})}var ke=i(_e,2);{var Fe=de=>{var qe=Ir(),Pe=t(qe);e(qe),y(()=>n(Pe,`${r(d).rates.currency??""}${r(d).rates.portfolioReviewRate??""}/review`)),s(de,qe)};f(ke,de=>{r(d).rates.portfolioReviewRate&&de(Fe)})}e(B),s(A,B)};f(Xe,A=>{r(d).rates&&A(dt)})}var Je=i(Xe,2);{var mt=A=>{var B=Hr(),_e=t(B),Ie=t(_e);e(_e);var ke=i(_e,2),Fe=t(ke);e(ke),e(B),y(de=>{n(Ie,`★ ${de??""}`),n(Fe,`(${r(d).reviews.length??""} review${r(d).reviews.length!==1?"s":""})`)},[()=>(r(d).reviews.reduce((de,qe)=>de+qe.rating,0)/r(d).reviews.length).toFixed(1)]),s(A,B)};f(Je,A=>{r(d).reviews?.length&&A(mt)})}var Ne=i(Je,2),ht=t(Ne);e(Ne),e(te),y(()=>{ce(ve,"src",r(d).mentor.avatar||""),n(Re,r(d).mentor.name),n(it,`@${r(d).mentor.username??""}`),n(lt,`${r(d).matchScore??""}%`),n(ht,`Request ${L()==="find-mentor"?"Mentorship":"to Mentor"}`)}),he("click",Ne,()=>le(r(d))),s(se,te)}),s(R,P)};f(C,R=>{Q().length===0?R(z):R(K,!1)})}e(g),y(R=>{xt(F,R),h!==(h=o.menteeLevel||"")&&(x.value=(x.__value=o.menteeLevel||"")??"",tt(x,o.menteeLevel||"")),Ct(D,o.verifiedOnly||!1)},[()=>o.styles?.join(", ")||""]),he("input",F,R=>{o.styles=R.target.value.split(",").map(P=>P.trim()).filter(Boolean),W()}),he("change",x,R=>{o.menteeLevel=R.target.value||void 0,W()}),he("change",D,R=>{o.verifiedOnly=R.target.checked,W()}),s(v,k)},w=v=>{var k=jr();s(v,k)};f(ie,v=>{L()!=="active"?v(G):v(w,!1)})}e(ee),y(()=>me(ee,1,`mentor-match mentor-match--${L()} ${b()}`,"svelte-5clzhn")),s(_,ee),Ae()}xe(["input","change","click"]);var Nr=l('<div class="circle-layout svelte-1b58hiy"><div class="main-col svelte-1b58hiy"><!> <!></div> <div class="side-col svelte-1b58hiy"><!> <!></div></div>'),Pr=l('<section class="demo-section svelte-1b58hiy"><header class="svelte-1b58hiy"><h2 class="svelte-1b58hiy">Critique Circle</h2> <p class="svelte-1b58hiy">Structured feedback sessions in a safe environment.</p></header> <div class="demo-container svelte-1b58hiy"><!></div> <!></section> <section class="demo-section svelte-1b58hiy"><header class="svelte-1b58hiy"><h2 class="svelte-1b58hiy">Mentor Match</h2> <p class="svelte-1b58hiy">Find a mentor or mentee to grow your skills.</p></header> <div class="demo-container svelte-1b58hiy"><!></div></section>',1);function Kr(_){const a={id:"circle-1",name:"Digital Illustrators",description:"A circle for digital illustrators to improve their craft.",rules:"Be constructive. Respect privacy.",members:[],queue:[],history:[]},L=`
<!-- Critique Circle -->
<CritiqueCircle.Root circle={circleData} membership="member">
  <div class="circle-layout">
      <div class="main-col">
          <CritiqueCircle.Session />
          <CritiqueCircle.Queue />
      </div>
      <div class="side-col">
          <CritiqueCircle.Members />
          <CritiqueCircle.History />
      </div>
  </div>
</CritiqueCircle.Root>

<!-- Mentor Match -->
<MentorMatch />`;qt(_,{eyebrow:"Artist Face / Community",title:"Community",description:"Collaborative spaces for critique and mentorship.",children:(q,Q)=>{var $=Pr(),b=we($),o=i(t(b),2),j=t(o);He(j,()=>Le.Root,(M,U)=>{U(M,{get circle(){return a},membership:"member",children:(H,T)=>{var O=Nr(),I=t(O),E=t(I);He(E,()=>Le.Session,(G,w)=>{w(G,{})});var J=i(E,2);He(J,()=>Le.Queue,(G,w)=>{w(G,{})}),e(I);var V=i(I,2),Y=t(V);He(Y,()=>Le.Members,(G,w)=>{w(G,{})});var ie=i(Y,2);He(ie,()=>Le.History,(G,w)=>{w(G,{})}),e(V),e(O),s(H,O)},$$slots:{default:!0}})}),e(o);var W=i(o,2);gt(W,{code:L,language:"svelte"}),e(b);var le=i(b,2),ee=i(t(le),2),oe=t(ee);Er(oe,{}),e(ee),e(le),s(q,$)},$$slots:{default:!0}})}export{Kr as component};
