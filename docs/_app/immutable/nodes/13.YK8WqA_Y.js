import{a as i,f as p,s as c}from"../chunks/BykCGqtP.js";import"../chunks/YKgMSjAh.js";import{e as Q,f as G,s as t,c as r,$ as L,r as e,d as _,g as l}from"../chunks/HviJt0eG.js";import{e as b}from"../chunks/D809QS3d.js";import{h as N}from"../chunks/BIESLWc2.js";import{s as j}from"../chunks/CybMBw0E.js";import{D as z}from"../chunks/vGJJHm7z.js";import{P as I,A as J}from"../chunks/D3BlL-1y.js";import{E as V}from"../chunks/DdSX794w.js";import{C as W}from"../chunks/D4U67pPq.js";var X=p('<meta name="description" content="Usage notes for the Search compound component and recents persistence powering the /search demo route."/>'),Y=p("<li><strong><code> </code></strong> </li>"),Z=p("<li> </li>"),ee=p("<li><code> </code> </li>"),te=p("<section><h2>Packages</h2> <ul></ul></section> <section><h2>Search.Root props</h2> <!></section> <section><h2>Handler callbacks</h2> <!></section> <section><h2>Usage snippet</h2> <!></section> <section><h2>Accessibility</h2> <!></section> <section><h2>Performance notes</h2> <ul></ul></section> <section><h2>Testing references</h2> <ul></ul></section>",1);function me(q){const C=[{name:"handlers",type:"SearchHandlers",required:!0,description:"Async hooks for onSearch / onRefine / onClear that power remote requests."},{name:"initialQuery",type:"string",description:"Optional query seeded into Search.Bar on mount."},{name:"initialState",type:"Partial<SearchState>",description:"Hydrates saved filters/result counts (used in server-driven pages)."}],A=[{name:"onSearch",payload:"SearchOptions",description:"Triggered when users run a query via Search.Bar or filters."},{name:"onSemanticToggle",payload:"boolean",description:"Optional hook to persist semantic mode preference."},{name:"onFilterChange",payload:"{ type?: 'notes' | 'accounts' | 'tags'; following?: boolean }",description:"Sync filter toggles without triggering a search."}],D=[{name:"@equaltoai/greater-components-social/Search",detail:"Compound components (Root, Bar, Filters, Results) plus context helpers."},{name:"@equaltoai/greater-components-primitives",detail:"Button + Skeleton components used for loading states and CTA controls."},{name:"apps/playground/src/lib/stores/storage.ts",detail:"Recent search persistence and recovery utilities."}],B=`<script lang="ts">
  import { Search } from '@equaltoai/greater-components-social';
  import { loadPersistedState, persistState } from '$lib/stores/storage';
  import { runDemoSearch } from '$lib/data/fediverse';

  const recentsKey = 'search-demo-recents';
  let recentSearches = $state(loadPersistedState(recentsKey, []));

  const handlers: Search.SearchHandlers = {
    onSearch: async (options) => {
      const results = runDemoSearch(options);
      recentSearches = [options.query, ...recentSearches.filter((entry) => entry !== options.query)].slice(0, 6);
      persistState(recentsKey, recentSearches);
      return results;
    }
  };
<\/script>

<Search.Root {handlers} initialQuery="compose dock">
  <Search.Bar placeholder="Search posts, people, tags…" />
  <Search.Filters />
  <Search.Results />
</Search.Root>`,T={wcagLevel:"AA",keyboardNav:!0,screenReader:!0,colorContrast:!0,focusManagement:!0,ariaSupport:!0,reducedMotion:!0,notes:['Results list uses aria-live="polite" so new batches announce themselves.','Error messages render inside role="alert" to surface immediate feedback.',"Recent search buttons are rendered as <button> for keyboard activation.","Search.Bar exposes `placeholder` and autofocus plus accessible semantics."],axeScore:100},E=["Handlers simulate network latency (420-620 ms) to keep skeleton states visible.","SearchContext caches last successful payload so retries reuse the same filters.","Recent search list is capped to six entries and stored via persistState.","StatusCard rendering limited to first 5 demo hits to keep FPS high."],H=[{label:"packages/testing/tests/demo/search.spec.ts",detail:"Playwright coverage for search success + error flows, including aria-live regions."},{label:"apps/playground/src/routes/search/+page.svelte",detail:"Reference implementation for handlers and context bridging."}];N("1bc8r5c",m=>{var x=X();Q(()=>{L.title="Search Demo Documentation - Greater Components"}),i(m,x)}),z(q,{eyebrow:"Demo Suite",title:"Search application",description:"Unified post/account/tag search built on @equaltoai/greater-components-social/Search with semantic toggle support.",children:(m,x)=>{var $=te(),h=G($),k=t(r(h),2);b(k,5,()=>D,s=>s.name,(s,o)=>{var a=Y(),n=r(a),d=r(n),y=r(d,!0);e(d),e(n);var M=t(n);e(a),_(()=>{c(y,l(o).name),c(M,` — ${l(o).detail??""}`)}),i(s,a)}),e(k),e(h);var u=t(h,2),F=t(r(u),2);I(F,{get props(){return C}}),e(u);var g=t(u,2),K=t(r(g),2);V(K,{get events(){return A}}),e(g);var v=t(g,2),O=t(r(v),2);W(O,{language:"svelte",code:B}),e(v);var f=t(v,2),U=t(r(f),2);J(U,j(()=>T)),e(f);var S=t(f,2),R=t(r(S),2);b(R,7,()=>E,(s,o)=>`${o}-${s}`,(s,o)=>{var a=Z(),n=r(a,!0);e(a),_(()=>c(n,l(o))),i(s,a)}),e(R),e(S);var w=t(S,2),P=t(r(w),2);b(P,5,()=>H,s=>s.label,(s,o)=>{var a=ee(),n=r(a),d=r(n,!0);e(n);var y=t(n);e(a),_(()=>{c(d,l(o).label),c(y,` — ${l(o).detail??""}`)}),i(s,a)}),e(P),e(w),i(m,$)},$$slots:{default:!0}})}export{me as component};
